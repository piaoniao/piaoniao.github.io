<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="PiaoNiao&#39;s Blog">
<meta property="og:url" content="https://github.com/piaoniao/index.html">
<meta property="og:site_name" content="PiaoNiao&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PiaoNiao&#39;s Blog">






  <link rel="canonical" href="https://github.com/piaoniao/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>PiaoNiao's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">PiaoNiao's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/11/03/noise/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/03/noise/" class="post-title-link" itemprop="url">å™ªå£°</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-03 14:33:30" itemprop="dateCreated datePublished" datetime="2018-11-03T14:33:30+08:00">2018-11-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-11-09 00:15:04" itemprop="dateModified" datetime="2018-11-09T00:15:04+08:00">2018-11-09</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>PSï¼šæœ¬æ–‡è®¨è®ºçš„å™ªå£°æ˜¯æŒ‡ç”¨äºç¨‹åºç”Ÿæˆéšæœºå€¼çš„ç®—æ³•</p>
<p>å­¦ä¹ èµ„æ–™ï¼š</p>
<ul>
<li><a href="https://blog.csdn.net/candycat1992/article/details/50346469" target="_blank" rel="noopener">ã€å›¾å½¢å­¦ã€‘è°ˆè°ˆå™ªå£°</a></li>
<li><a href="https://www.cnblogs.com/leoin2012/p/7218033.html" target="_blank" rel="noopener">ä¸€ç¯‡æ–‡ç« ææ‡‚æŸæ—å™ªå£°ç®—æ³•ï¼Œé™„ä»£ç è®²è§£</a></li>
<li><a href="https://gist.github.com/Flafla2/f0260a861be0ebdeef76#file-perlin_tiled-cs" target="_blank" rel="noopener">Perlin_Tiled.cs</a></li>
<li><a href="https://docs.unity3d.com/ScriptReference/Mathf.PerlinNoise.html" target="_blank" rel="noopener">Unity Mathf.PerlinNoise</a></li>
</ul>
<p>åˆ«äººçš„æ–‡ç« å†™å¾—çœŸå¥½ï¼Œæ‰€ä»¥ç›´æ¥åšæ€»ç»“å§ï½</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h3 id="å™ªå£°çš„ç§ç±»"><a href="#å™ªå£°çš„ç§ç±»" class="headerlink" title="å™ªå£°çš„ç§ç±»"></a>å™ªå£°çš„ç§ç±»</h3><ul>
<li><p>åŸºäºæ™¶æ ¼</p>
<ul>
<li>æ¢¯åº¦å™ªå£°ï¼šPerlin å™ªå£°ã€Simplex å™ªå£°ã€Wavelet å™ªå£°ç­‰</li>
<li>Value å™ªå£°</li>
</ul>
</li>
<li><p>åŸºäºç‚¹</p>
<ul>
<li>Worley å™ªå£°ï¼ˆåˆç§°ï¼šVoronoi å™ªå£°ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="Perlin-å™ªå£°"><a href="#Perlin-å™ªå£°" class="headerlink" title="Perlin å™ªå£°"></a>Perlin å™ªå£°</h3><h4 id="å‡½æ•°å£°æ˜ï¼š"><a href="#å‡½æ•°å£°æ˜ï¼š" class="headerlink" title="å‡½æ•°å£°æ˜ï¼š"></a>å‡½æ•°å£°æ˜ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public float perlin(float x, float y)</span><br><span class="line">public float perlin(float x, float y, float z)</span><br><span class="line">public float perlin(float x, float y, float z, float w)</span><br></pre></td></tr></table></figure>
<ul>
<li>å¸¸ç”¨ 2 ç»´ã€3 ç»´ã€4 ç»´ï¼ˆå¯æ ¹æ®ç®—æ³•æ€è·¯å®ç°æ›´é«˜ç»´ï¼‰</li>
<li>è¾“å…¥ä¸ºæŸç‚¹åæ ‡ï¼ˆæœ¬æ–‡çš„å®ç°ç”¨ <code>float</code> ç±»å‹ï¼‰</li>
<li>è¾“å‡ºå–å€¼èŒƒå›´ï¼š[0,1]</li>
<li>ç®—æ³•æ—¶é—´å¤æ‚åº¦ï¼š \(O(2^n)\)ï¼ˆn æ˜¯ç»´æ•°ï¼‰</li>
</ul>
<h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><ul>
<li><p>æ¥æ”¶è¾“å…¥ï¼ˆæµ®ç‚¹å‹ï¼‰</p>
</li>
<li><p>è®¡ç®—è¾“å…¥ç‚¹æ‰€åœ¨çš„æ™¶æ ¼ï¼ˆæ•´å‹åæ ‡ï¼‰ï¼ˆ2 ç»´ 4 ä¸ªé¡¶ç‚¹ï¼ˆæ­£æ–¹å½¢ï¼‰ã€3 ç»´ 8 ä¸ªé¡¶ç‚¹ï¼ˆæ­£æ–¹ä½“ï¼‰ã€4 ç»´ 16 ä¸ªé¡¶ç‚¹ â€¦ï¼‰</p>
</li>
<li><p>æ™¶æ ¼é¡¶ç‚¹å„è‡ªç”Ÿæˆä¸€ä¸ªä¼ªéšæœºçš„æ¢¯åº¦å‘é‡</p>
<ul>
<li><p>2 ç»´ï¼šé¢„è®¡ç®—éšæœºå•ä½å‘é‡ G[n]ã€æ‰“ä¹± 0ï½n-1 é¡ºåºçš„ P[n]ï¼Œåˆ™é¡¶ç‚¹ (i,j) çš„éšæœºæ¢¯åº¦å‘é‡ä¸º: \( g = G[(i + P[j]) \% n] \)</p>
</li>
<li><p>3 ç»´ï¼š é€‰å–çš„å•ä½å‘é‡ç”± 12 æ¡å•ä½æ­£æ–¹ä½“çš„ä¸­å¿ƒç‚¹åˆ°å„æ¡è¾¹ä¸­ç‚¹çš„å‘é‡ç»„æˆï¼š(1,1,0),(-1,1,0),(1,-1,0),(-1,-1,0), (1,0,1),(-1,0,1),(1,0,-1),(-1,0,-1), (0,1,1),(0,-1,1),(0,1,-1),(0,-1,-1)</p>
</li>
<li><p>4 ç»´ï¼šé€‰å–æ–¹æ³•ä¸ 3 ç»´ç±»ä¼¼å…± 32 æ¡å•ä½å‘é‡</p>
</li>
<li><p>å®é™…å®ç°ä¸­ï¼ŒP[] é•¿åº¦ä¸€èˆ¬å…ˆå– 256ï¼Œä¸ºé¿å…ç¼“å­˜æº¢å‡ºï¼Œå†é‡å¤å¡«å……ä¸€æ¬¡æ•°ç»„çš„å€¼ï¼Œæœ€ç»ˆé•¿åº¦ä¸º 512</p>
</li>
</ul>
</li>
<li><p>è®¡ç®—æ™¶ä½“å„é¡¶ç‚¹åˆ°è¾“å…¥ç‚¹çš„è·ç¦»å‘é‡</p>
</li>
<li><p>å¯¹æ™¶ä½“å„é¡¶ç‚¹çš„æ¢¯åº¦å‘é‡å’Œè·ç¦»å‘é‡åšç‚¹ç§¯è¿ç®—</p>
</li>
<li><p>å¯¹ç‚¹ç§¯ç»“æœæ’å€¼ï¼Œæ±‚åŠ æƒå¹³å‡</p>
</li>
</ul>
<h4 id="3-ç»´ä¾‹å­"><a href="#3-ç»´ä¾‹å­" class="headerlink" title="3 ç»´ä¾‹å­"></a>3 ç»´ä¾‹å­</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// fade() = t * t * t * (t * (t * 6 - 15) + 10);</span><br><span class="line"></span><br><span class="line">float x,y,z; // è¾“å…¥åæ ‡</span><br><span class="line">float g1,g2,g3,g4,g5,g6,g7,g8; // 8 ä¸ªç‚¹ç§¯ç»“æœ</span><br><span class="line">float x1,x2,y1,2;</span><br><span class="line"></span><br><span class="line">x1 = lerp(g1,g2,fade(x-(int)x));// PSï¼šå®é™…å®ç°å¯ç¼“å­˜ fade(x-(int)x) çš„å€¼å‡å°‘è®¡ç®—</span><br><span class="line">x2 = lerp(g3,g4,fade(x-(int)x));</span><br><span class="line">y1 = lerp(x1,x2,fade(y-(int)x));</span><br><span class="line"></span><br><span class="line">x1 = lerp(g5,g6,fade(x-(int)x));</span><br><span class="line">x2 = lerp(g7,g8,fade(x-(int)x));</span><br><span class="line">y2 = lerp(x1,x2,fade(y-(int)x));</span><br><span class="line"></span><br><span class="line">float result = (lerp(y1,y2,fade(z-(int)z)) + 1)/2; // è¾“å‡ºç»“æœ</span><br></pre></td></tr></table></figure>
<ul>
<li>fade() ç§°ä¸ºç¼“å’Œæ›²çº¿ï¼ˆease curvesï¼‰(äºŒé˜¶å¯¼æ»¡è¶³è¿ç»­æ€§):  $$s(t)=6t^5âˆ’15t^4+10t^3$$ </li>
</ul>
<h3 id="Value-å™ªå£°"><a href="#Value-å™ªå£°" class="headerlink" title="Value å™ªå£°"></a>Value å™ªå£°</h3><p>ä¸ Perlin å™ªå£°å®ç°æ­¥éª¤ç±»ä¼¼ï¼Œå®ç°æ›´ç®€å•ï¼Œä¸åŒä¹‹å¤„ï¼š</p>
<ul>
<li>ç”¨ä¼ªéšæœºå€¼ä»£æ›¿æ™¶ä½“é¡¶ç‚¹çš„ä¼ªéšæœºæ¢¯åº¦å‘é‡ï¼Œä¸éœ€è¦ä¸è·ç¦»å‘é‡ç‚¹ä¹˜</li>
</ul>
<h3 id="Simplex-å™ªå£°"><a href="#Simplex-å™ªå£°" class="headerlink" title="Simplex å™ªå£°"></a>Simplex å™ªå£°</h3><p>ä¸ Perlin å™ªå£°å®ç°æ­¥éª¤ç±»ä¼¼ï¼ŒSimplex å™ªå£°çš„æ—¶é—´å¤æ‚åº¦æ›´ä¼˜ï¼Œä¸º \(O(n^2)\)ï¼Œä¸åŒä¹‹å¤„ï¼š</p>
<ul>
<li><p>Simplex æ‰€é€‰çš„æ™¶ä½“ä¸ºå•å½¢ï¼ˆ1 ç»´ï¼šçº¿æ®µã€2 ç»´ï¼šç­‰è…°ä¸‰è§’å½¢ã€3 ç»´ï¼šå››é¢ä½“ã€â€¦ ï¼‰</p>
</li>
<li><p>æ¯ä¸ªé¡¶ç‚¹çš„æƒé‡è®¡ç®—ï¼š$$(r^2âˆ’|\vec {dist}|^2)^4Ã—dot(\vec {dist},\vec {grad})$$</p>
<ul>
<li><strong>dist</strong> æ˜¯æ™¶ä½“é¡¶ç‚¹åˆ°è¾“å…¥ç‚¹çš„è·ç¦»å‘é‡</li>
<li><strong>grad</strong> æ˜¯æ™¶ä½“é¡¶ç‚¹å­˜å‚¨çš„ä¼ªéšæœºæ¢¯åº¦å‘é‡</li>
<li>\(r^2\) çš„å–å€¼æ˜¯ 0.5 æˆ– 0.6ï¼šå– 0.5 æ—¶å¯ä»¥ä¿è¯æ²¡æœ‰ä¸è¿ç»­çš„é—´æ–­ç‚¹ï¼Œåœ¨è¿ç»­æ€§å¹¶ä¸é‚£ä¹ˆæ˜æ˜¾æ—¶å¯ä»¥å– 0.6 å¾—åˆ°æ›´å¥½çš„è§†è§‰æ•ˆæœ</li>
</ul>
</li>
<li><p>æœ€åå°†å„é¡¶ç‚¹æƒé‡ç›¸åŠ å†ä¹˜ä»¥ä¸€ä¸ªç³»æ•°ï¼ˆä¸ºäº†æŠŠç»“æœå½’ä¸€åˆ° [-1,1] çš„èŒƒå›´ï¼‰</p>
</li>
</ul>
<h4 id="éš¾ç‚¹ï¼šæ‰¾åˆ°è¾“å…¥ç‚¹æ‰€åœ¨çš„å•å½¢ï¼Ÿï¼Ÿï¼Ÿ"><a href="#éš¾ç‚¹ï¼šæ‰¾åˆ°è¾“å…¥ç‚¹æ‰€åœ¨çš„å•å½¢ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="éš¾ç‚¹ï¼šæ‰¾åˆ°è¾“å…¥ç‚¹æ‰€åœ¨çš„å•å½¢ï¼Ÿï¼Ÿï¼Ÿ"></a>éš¾ç‚¹ï¼šæ‰¾åˆ°è¾“å…¥ç‚¹æ‰€åœ¨çš„å•å½¢ï¼Ÿï¼Ÿï¼Ÿ</h4><p>ç•¥å…·ä½“æ¨å¯¼</p>
<h3 id="Worley-å™ªå£°"><a href="#Worley-å™ªå£°" class="headerlink" title="Worley å™ªå£°"></a>Worley å™ªå£°</h3><p>æš‚ä¸ç ”ç©¶</p>
<h3 id="å¯å¹³é“ºçš„ï¼ˆtilingï¼‰æ— ç¼çš„ï¼ˆseamlessï¼‰å™ªå£°"><a href="#å¯å¹³é“ºçš„ï¼ˆtilingï¼‰æ— ç¼çš„ï¼ˆseamlessï¼‰å™ªå£°" class="headerlink" title="å¯å¹³é“ºçš„ï¼ˆtilingï¼‰æ— ç¼çš„ï¼ˆseamlessï¼‰å™ªå£°"></a>å¯å¹³é“ºçš„ï¼ˆtilingï¼‰æ— ç¼çš„ï¼ˆseamlessï¼‰å™ªå£°</h3><p>ç›®å‰å…¬è®¤æ¯”è¾ƒå¥½çš„ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯åœ¨ 2n ç»´ä¸Šè®¡ç®— n ç»´å¯å¹³é“ºå™ªå£°</p>
<p>å…·ä½“åšæ³•ï¼Œå¦‚ï¼š</p>
<ul>
<li><p>åœ¨äºŒç»´å™ªå£°ä¸­ç”»ä¸€ä¸ªåœ†ï¼Œå¯å¾—ä¸€ç»´æ— ç¼çš„å™ªå£°</p>
</li>
<li><p>åœ¨å››ç»´çš„ xz å¹³é¢ç”»åœ†å¾—äºŒç»´ x è½´çš„æ— ç¼å™ªå£°ï¼Œåœ¨å››ç»´çš„ yw å¹³é¢ç”»åœ†å¾—äºŒç»´ y è½´çš„æ— ç¼å™ªå£°</p>
</li>
</ul>
<h4 id="äºŒç»´æ— ç¼å™ªå£°å®ç°"><a href="#äºŒç»´æ— ç¼å™ªå£°å®ç°" class="headerlink" title="äºŒç»´æ— ç¼å™ªå£°å®ç°"></a>äºŒç»´æ— ç¼å™ªå£°å®ç°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//X, Y is [0..1]</span><br><span class="line">public static float SeamlessNoise( float x, float y, float dx, float dy, float xyOffset ) &#123;</span><br><span class="line">    float s = x;</span><br><span class="line">    float t = y;</span><br><span class="line"></span><br><span class="line">    float nx = xyOffset + Mathf.Cos(s * 2.0f * Mathf.PI) * dx / (2.0f * Mathf.PI);</span><br><span class="line">    float ny = xyOffset + Mathf.Cos(t * 2.0f * Mathf.PI) * dy / (2.0f * Mathf.PI);</span><br><span class="line">    float nz = xyOffset + Mathf.Sin(s * 2.0f * Mathf.PI) * dx / (2.0f * Mathf.PI);</span><br><span class="line">    float nw = xyOffset + Mathf.Sin(t * 2.0f * Mathf.PI) * dy / (2.0f * Mathf.PI);</span><br><span class="line"></span><br><span class="line">    return Noise(nx, ny, nz, nw);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>å…¶ä¸­ Noise() å¯ä»¥æ˜¯ Perlinã€Simplexã€Worley ç­‰</p>
</li>
<li><p>xyOffset æ˜¯æŒ‡åœ¨å››ç»´ç©ºé—´æŸä¸ªå¹³é¢ä¸Šçš„åç§»ï¼Œå³è¿™ä¸ªå•ä½åœ†æ˜¯ä»¥ xyOffset ä¸ºåœ†å¿ƒçš„</p>
</li>
</ul>
<h3 id="åˆ†å½¢å™ªå£°ã€FBMï¼ˆåˆ†å½¢å¸ƒæœ—è¿åŠ¨ï¼‰"><a href="#åˆ†å½¢å™ªå£°ã€FBMï¼ˆåˆ†å½¢å¸ƒæœ—è¿åŠ¨ï¼‰" class="headerlink" title="åˆ†å½¢å™ªå£°ã€FBMï¼ˆåˆ†å½¢å¸ƒæœ—è¿åŠ¨ï¼‰"></a>åˆ†å½¢å™ªå£°ã€FBMï¼ˆåˆ†å½¢å¸ƒæœ—è¿åŠ¨ï¼‰</h3><p>å…·ä½“å®ç°ä¸ºï¼šä¸æ–­å åŠ æ›´é«˜é¢‘ç‡çš„å™ªå£°ï¼Œå¦‚ï¼š</p>
<p>$$noise(p)+\frac{1}{2}noise(2p)+\frac{1}{4}noise(4p)+â€¦$$</p>
<p>$$|noise(p)|+\frac{1}{2}|noise(2p)|+\frac{1}{4}|noise(4p)|+â€¦$$</p>
<p>$$sin(x+|noise(p)|+\frac{1}{2}|noise(2p)|+\frac{1}{4}|noise(4p)|+â€¦)$$</p>
<h4 id="ä¸‰ç»´-Perlin-åˆ†å½¢ç¤ºä¾‹ä»£ç ï¼š"><a href="#ä¸‰ç»´-Perlin-åˆ†å½¢ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ä¸‰ç»´ Perlin åˆ†å½¢ç¤ºä¾‹ä»£ç ï¼š"></a>ä¸‰ç»´ Perlin åˆ†å½¢ç¤ºä¾‹ä»£ç ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public double OctavePerlin(double x, double y, double z, int octaves, double persistence) &#123;</span><br><span class="line">    double total = 0;</span><br><span class="line">    double frequency = 1;</span><br><span class="line">    double amplitude = 1;</span><br><span class="line">    double maxValue = 0;  // Used for normalizing result to 0.0 - 1.0</span><br><span class="line">    for(int i=0;i&lt;octaves;i++) &#123;</span><br><span class="line">        total += perlin(x * frequency, y * frequency, z * frequency) * amplitude;</span><br><span class="line">        </span><br><span class="line">        maxValue += amplitude;</span><br><span class="line">        </span><br><span class="line">        amplitude *= persistence;</span><br><span class="line">        frequency *= 2;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return total/maxValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>octaves ä¸ºé™ªé¢‘</li>
<li>persistence ä¸ºæŒç»­æ€§</li>
<li>amplitude ä¸ºæŒ¯å¹…</li>
</ul>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/10/25/unirx/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/25/unirx/" class="post-title-link" itemprop="url">UniRx å­¦ä¹  â€”â€” è¿›é˜¶</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-25 21:57:03" itemprop="dateCreated datePublished" datetime="2018-10-25T21:57:03+08:00">2018-10-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-01-06 15:23:39" itemprop="dateModified" datetime="2019-01-06T15:23:39+08:00">2019-01-06</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://github.com/neuecc/UniRx">UniRx README</a></li>
</ul>
<p>ä¹‹å‰ä¸€ç¯‡åšå®¢ <a href="https://piaoniao.github.io/2018/09/24/unirx-operators/" target="_blank" rel="noopener">UniRx å­¦ä¹ â€”â€”æ“ä½œç¬¦</a> æ€»ç»“åˆ°æœ€åå˜æˆäº†å¯¹ <code>Rx</code> æ“ä½œç¬¦çš„å¤ä¹ ğŸ˜‚ï¼Œæ‰€ä»¥è¿™æ¬¡æœ‰é’ˆå¯¹æ€§çš„æ¥å­¦ä¹ ä¸€ä¸‹ <code>UniRx</code> è¿™ä¸ªæ¡†æ¶ï¼ˆä¸»è¦æ˜¯å®˜æ–¹æ–‡æ¡£ï¼‰</p>
<h2 id="ç½‘ç»œæ“ä½œ"><a href="#ç½‘ç»œæ“ä½œ" class="headerlink" title="ç½‘ç»œæ“ä½œ"></a>ç½‘ç»œæ“ä½œ</h2><p>ä½¿ç”¨ <code>ObservableWWW</code> ï¼ˆå…¶æ ¸å¿ƒå°±æ˜¯å¯¹ <code>WWW</code> è¿›è¡Œå°è£…ï¼‰è¿›è¡Œå¼‚æ­¥ç½‘ç»œæ“ä½œï¼š</p>
<ul>
<li>æ”¯æŒ <code>GET</code>/<code>POST</code> æ–¹æ³•</li>
<li>æ”¯æŒè®¢é˜… <code>WWW</code>ã€<code>string</code>ã€<code>byte[]</code>ã€<code>AssetBundle</code>æ ¼å¼çš„è¿”å›</li>
<li>æ”¯æŒè¿›åº¦å›è°ƒ</li>
<li>æ”¯æŒé”™è¯¯å¤„ç†</li>
<li>æ”¯æŒå–æ¶ˆè¯·æ±‚</li>
<li>å¯æ­é… <code>Observable.WhenAll</code> è¿›è¡Œå¹¶è¡Œå¼‚æ­¥æ“ä½œ</li>
</ul>
<p><img src="http://pf7j6kfg3.bkt.clouddn.com/UniRx-ObservableWWW-00.png" alt=""></p>
<h2 id="ç»“åˆåç¨‹ï¼ˆCoroutinesï¼‰"><a href="#ç»“åˆåç¨‹ï¼ˆCoroutinesï¼‰" class="headerlink" title="ç»“åˆåç¨‹ï¼ˆCoroutinesï¼‰"></a>ç»“åˆåç¨‹ï¼ˆCoroutinesï¼‰</h2><h4 id="FromCoroutine"><a href="#FromCoroutine" class="headerlink" title="FromCoroutine"></a>FromCoroutine</h4><p>å°†åç¨‹è½¬æˆ <code>Observable</code></p>
<h4 id="FromCoroutineVlaue"><a href="#FromCoroutineVlaue" class="headerlink" title="FromCoroutineVlaue"></a>FromCoroutineVlaue</h4><p>ä»åç¨‹è½¬æˆ <code>Observable</code>ï¼Œå¹¶å‘å°„ <code>yield return</code> è¿”å›çš„å€¼</p>
<h4 id="FromMicroCoroutine"><a href="#FromMicroCoroutine" class="headerlink" title="FromMicroCoroutine"></a>FromMicroCoroutine</h4><p>å°†å¾®åç¨‹è½¬æˆ <code>Observable</code></p>
<h4 id="ToYieldInstruction"><a href="#ToYieldInstruction" class="headerlink" title="ToYieldInstruction"></a>ToYieldInstruction</h4><p>å°† <code>Observable</code> è½¬åŒ–æˆåç¨‹</p>
<h4 id="StartAsCoroutine"><a href="#StartAsCoroutine" class="headerlink" title="StartAsCoroutine"></a>StartAsCoroutine</h4><p>AutoStart observable as coroutine</p>
<h2 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h2><h4 id="Observable-Start-é»˜è®¤åœ¨å¼‚æ­¥çº¿ç¨‹è¿è¡Œ"><a href="#Observable-Start-é»˜è®¤åœ¨å¼‚æ­¥çº¿ç¨‹è¿è¡Œ" class="headerlink" title="Observable.Start() é»˜è®¤åœ¨å¼‚æ­¥çº¿ç¨‹è¿è¡Œ"></a>Observable.Start() é»˜è®¤åœ¨å¼‚æ­¥çº¿ç¨‹è¿è¡Œ</h4><h4 id="é»˜è®¤è°ƒåº¦å™¨ï¼ˆDefaultSchedulerï¼‰"><a href="#é»˜è®¤è°ƒåº¦å™¨ï¼ˆDefaultSchedulerï¼‰" class="headerlink" title="é»˜è®¤è°ƒåº¦å™¨ï¼ˆDefaultSchedulerï¼‰"></a>é»˜è®¤è°ƒåº¦å™¨ï¼ˆDefaultSchedulerï¼‰</h4><p>é™¤äº† <code>Observable.Start()</code>ï¼Œ<code>UniRx</code> é»˜è®¤åŸºäºæ—¶é—´çš„æ“ä½œç¬¦éƒ½ä½¿ç”¨ <code>Scheduler.MainThread</code></p>
<p><code>Scheduler.MainThread</code> å— <code>Time.timeScale</code> çš„å½±å“ï¼Œè‹¥å¸Œæœ›å¿½ç•¥æ—¶é—´ç¼©æ”¾å¯ä½¿ç”¨ <code>Scheduler.MainThreadIgnoreTimeScale</code></p>
<h2 id="MonoBehaviour-è§¦å‘å™¨"><a href="#MonoBehaviour-è§¦å‘å™¨" class="headerlink" title="MonoBehaviour è§¦å‘å™¨"></a>MonoBehaviour è§¦å‘å™¨</h2><p> <code>Unity</code> çš„ <code>GameObject</code> å¯ä»¥é€šè¿‡æ·»åŠ  <code>UniRx.Triggers</code> ä¸‹çš„è§¦å‘å™¨ç»„ä»¶ï¼ˆ<code>ObservableXxxTrigger</code>ï¼‰æ¥å¤„ç†äº‹ä»¶ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cube.AddComponent&lt;ObservableUpdateTrigger&gt;()</span><br><span class="line">    .UpdateAsObservable()</span><br><span class="line">    .SampleFrame(30)</span><br><span class="line">    .Subscribe(x =&gt; Debug.Log(&quot;cube&quot;), () =&gt; Debug.Log(&quot;destroy&quot;));</span><br></pre></td></tr></table></figure>
<p><code>Unity</code> çš„ <code>GameObject/Component</code> ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡æ‰©å±•æ–¹æ³•ï¼ˆ<code>***AsObservable</code>ï¼‰ä½¿ç”¨ <code>UniRx.Triggers</code>ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// All events can subscribe by ***AsObservable</span><br><span class="line">this.OnMouseDownAsObservable()</span><br><span class="line">    .SelectMany(_ =&gt; this.UpdateAsObservable())</span><br><span class="line">    .TakeUntil(this.OnMouseUpAsObservable())</span><br><span class="line">    .Select(_ =&gt; Input.mousePosition)</span><br><span class="line">    .Subscribe(x =&gt; Debug.Log(x));</span><br></pre></td></tr></table></figure>
<p>ç½—åˆ—ä¸€ä¸‹ <code>UniRx.Triggers</code> ä¸‹æ”¯æŒçš„è§¦å‘å™¨ï¼ˆä¸å¤Ÿç”¨å¯è‡ªå®šä¹‰ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">ObservableAnimatorTrigger    	// åŠ¨ç”»ï¼šç§»åŠ¨ã€åå‘è¿åŠ¨</span><br><span class="line">ObservableBeginDragTrigger    // å¼€å§‹æ‹–åŠ¨</span><br><span class="line">ObservableCancelTrigger    	// å–æ¶ˆ</span><br><span class="line">ObservableCanvasGroupChangedTrigger    </span><br><span class="line">ObservableCollision2DTrigger    // 2D ç¢°æ’ï¼šè¿›å…¥ã€åœç•™ã€é€€å‡º</span><br><span class="line">ObservableCollisionTrigger    // ç¢°æ’ï¼šè¿›å…¥ã€åœç•™ã€é€€å‡º</span><br><span class="line">ObservableDeselectTrigger		// å–æ¶ˆé€‰ä¸­</span><br><span class="line">ObservableDestroyTrigger		// ç ´å</span><br><span class="line">ObservableDragTrigger			// æ‹–åŠ¨</span><br><span class="line">ObservableDropTrigger			// é‡Šæ”¾</span><br><span class="line">ObservableEnableTrigger			// æ¿€æ´»</span><br><span class="line">ObservableEndDragTrigger		// ç»“æŸæ‹–åŠ¨</span><br><span class="line">ObservableEventTrigger			// æ‰€æœ‰äº‹ä»¶</span><br><span class="line">ObservableFixedUpdateTrigger		// FixedUpdate</span><br><span class="line">ObservableInitializePotentialDragTrigger    </span><br><span class="line">ObservableJointTrigger			// ç‰©ç†å…³èŠ‚æ–­å¼€</span><br><span class="line">ObservableLateUpdateTrigger	// LateUpdate</span><br><span class="line">ObservableMouseTrigger			// é¼ æ ‡ï¼šæŒ‰ä¸‹ã€æ‹–åŠ¨ã€è¿›å…¥ã€æ‚¬åœã€é€€å‡ºã€æèµ·</span><br><span class="line">ObservableMoveTrigger			// ç§»åŠ¨</span><br><span class="line">ObservableParticleTrigger		// ç²’å­ï¼šç¢°æ’ã€è§¦å‘äº‹ä»¶</span><br><span class="line">ObservablePointerClickTrigger	// ç‚¹å‡»</span><br><span class="line">ObservablePointerDownTrigger	// ç‚¹å‡»æŒ‰ä¸‹</span><br><span class="line">ObservablePointerEnterTrigger	// ç‚¹å‡»è¿›å…¥</span><br><span class="line">ObservablePointerExitTrigger	// ç‚¹å‡»ç»“æŸ</span><br><span class="line">ObservablePointerUpTrigger		// ç‚¹å‡»æèµ·</span><br><span class="line">ObservableRectTransformTrigger	// RectTransformï¼šå°ºå¯¸æ”¹å˜ã€ç§»é™¤</span><br><span class="line">ObservableScrollTrigger			// æ»šåŠ¨ï¼š</span><br><span class="line">ObservableSelectTrigger			// é€‰ä¸­</span><br><span class="line">ObservableStateMachineTrigger		// çŠ¶æ€æœºï¼šè¿›å…¥ã€é€€å‡ºï¼›çŠ¶æ€ï¼šè¿›å…¥ã€é€€å‡ºã€IKã€æ›´æ–°</span><br><span class="line">ObservableSubmitTrigger			// æäº¤</span><br><span class="line">ObservableTransformChangedTrigger		// Transformï¼šå˜åŒ–</span><br><span class="line">ObservableTrigger2DTrigger				// è§¦å‘å™¨ 2Dï¼šè¿›å…¥ã€åœç•™ã€é€€å‡º</span><br><span class="line">ObservableTriggerBase					// Base ç±»</span><br><span class="line">ObservableTriggerExtensions			// æ‰©å±•æ–¹æ³•</span><br><span class="line">ObservableTriggerTrigger				// è§¦å‘å™¨ï¼šè¿›å…¥ã€åœç•™ã€é€€å‡º</span><br><span class="line">ObservableUpdateSelectedTrigger		// æ›´æ–°é€‰ä¸­</span><br><span class="line">ObservableUpdateTrigger					// Update</span><br><span class="line">ObservableVisibleTrigger				// å¯è§æ€§ï¼šå¯è§ã€ä¸å¯è§</span><br></pre></td></tr></table></figure>
<h2 id="Observable-ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#Observable-ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="Observable ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>Observable ç”Ÿå‘½å‘¨æœŸç®¡ç†</h2><p>ä½¿ç”¨ <code>IDisposable.AddTo()</code> ç®¡ç†å¤šä¸ª <code>IDisposable</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// CompositeDisposable is similar with List&lt;IDisposable&gt;, manage multiple IDisposable</span><br><span class="line">CompositeDisposable disposables = new CompositeDisposable(); // field</span><br><span class="line"></span><br><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.EveryUpdate().Subscribe(x =&gt; Debug.Log(x)).AddTo(disposables);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void OnTriggerEnter(Collider other)</span><br><span class="line">&#123;</span><br><span class="line">    // .Clear() =&gt; Dispose is called for all inner disposables, and the list is cleared.</span><br><span class="line">    // .Dispose() =&gt; Dispose is called for all inner disposables, and Dispose is called immediately after additional Adds.</span><br><span class="line">    disposables.Clear();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå¸Œæœ›åœ¨ <code>GameObject</code> é”€æ¯æ—¶ï¼Œèƒ½è‡ªåŠ¨é‡Šæ”¾è®¢é˜…ï¼Œå¯ä½¿ç”¨ <code>AddTo(GameObject/Component)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.IntervalFrame(30).Subscribe(x =&gt; Debug.Log(x)).AddTo(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–å¯ç”¨æ§åˆ¶æ–¹æ³•ï¼š<code>TakeWhile</code>, <code>TakeUntil</code>,<code>TakeUntilDestroy</code> and <code>TakeUntilDisable</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Observable.IntervalFrame(30).TakeUntilDisable(this)</span><br><span class="line">    .Subscribe(x =&gt; Debug.Log(x), () =&gt; Debug.Log(&quot;completed!&quot;));</span><br></pre></td></tr></table></figure>
<p>å°å¿ƒä½¿ç”¨ <code>Repeat</code> æ“ä½œç¬¦ï¼Œé¿å…æ— é™å¾ªç¯è®¢é˜…ï¼Œå¯é€‚å½“ä½¿ç”¨ <code>RepeatSafe</code>ã€<code>RepeatUntilDestroy(gameObject/component)</code> å’Œ <code>RepeatUntilDisable(gameObject/component)</code></p>
<p>æ‰€æœ‰ç±»å®ä¾‹éƒ½æä¾›äº† <code>ObserveEveryValueChanged()</code> æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ¯å¸§éƒ½æ£€æŸ¥å€¼çš„å˜åŒ–</p>
<h2 id="è½¬-Unity-Callbacks-ä¸º-IObservables"><a href="#è½¬-Unity-Callbacks-ä¸º-IObservables" class="headerlink" title="è½¬ Unity Callbacks ä¸º IObservables"></a>è½¬ Unity Callbacks ä¸º IObservables</h2><h2 id="æµå¼æ—¥å¿—"><a href="#æµå¼æ—¥å¿—" class="headerlink" title="æµå¼æ—¥å¿—"></a>æµå¼æ—¥å¿—</h2><p><code>UniRx.Diagnostics.Logger</code></p>
<h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><p>éœ€è¦ä½¿ç”¨ <code>UniRx.Diagnostics</code></p>
<h2 id="åº”ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#åº”ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="åº”ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­"></a>åº”ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­</h2><ul>
<li><code>Observable.EveryApplicationPause()</code></li>
<li><code>Observable.EveryApplicationFocus()</code></li>
<li><code>Observable.OnceApplicationQuit()</code></li>
</ul>
<h2 id="åŸºäºå¸§æ•°æ—¶é—´çš„æ“ä½œç¬¦"><a href="#åŸºäºå¸§æ•°æ—¶é—´çš„æ“ä½œç¬¦" class="headerlink" title="åŸºäºå¸§æ•°æ—¶é—´çš„æ“ä½œç¬¦"></a>åŸºäºå¸§æ•°æ—¶é—´çš„æ“ä½œç¬¦</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">EveryUpdate</span><br><span class="line">EveryFixedUpdate</span><br><span class="line">EveryEndOfFrame</span><br><span class="line">EveryGameObjectUpdate</span><br><span class="line">EveryLateUpdate</span><br><span class="line">ObserveOnMainThread</span><br><span class="line">NextFrame</span><br><span class="line">IntervalFrame</span><br><span class="line">TimerFrame</span><br><span class="line">DelayFrame</span><br><span class="line">SampleFrame</span><br><span class="line">ThrottleFrame</span><br><span class="line">ThrottleFirstFrame</span><br><span class="line">TimeoutFrame</span><br><span class="line">DelayFrameSubscription</span><br><span class="line">FrameInterval</span><br><span class="line">FrameTimeInterval</span><br><span class="line">BatchFrame</span><br></pre></td></tr></table></figure>
<p><code>Every*</code> æ–¹æ³•çš„æ‰§è¡Œé¡ºåºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EveryGameObjectUpdate(in MainThreadDispatcher&apos;s Execution Order) -&gt;</span><br><span class="line">EveryUpdate -&gt; </span><br><span class="line">EveryLateUpdate -&gt; </span><br><span class="line">EveryEndOfFrame</span><br></pre></td></tr></table></figure>
<h2 id="å¾®åç¨‹"><a href="#å¾®åç¨‹" class="headerlink" title="å¾®åç¨‹"></a>å¾®åç¨‹</h2><p>å¾®åç¨‹æ˜¯å†…å­˜é«˜æ•ˆã€å¿«é€Ÿçš„åç¨‹ <code>worker</code></p>
<p>å¯è§å¦ä¸€ç¯‡åšå®¢çš„åˆ†æï¼š<a href="https://piaoniao.github.io/2018/09/25/unirx-micro-coroutine/" target="_blank" rel="noopener">UniRx â€”â€” MicroCoroutineï¼ˆå¾®åç¨‹ï¼‰</a></p>
<h2 id="uGUI-é›†æˆ"><a href="#uGUI-é›†æˆ" class="headerlink" title="uGUI é›†æˆ"></a>uGUI é›†æˆ</h2><p>ä½¿ç”¨ <code>UnityEvent.AsObservable</code> å¯ä»¥æ–¹ä¾¿åœ°å¤„ç† <code>Unity</code> äº‹ä»¶</p>
<h2 id="å“åº”å¼å±æ€§-amp-å“åº”å¼é›†åˆ"><a href="#å“åº”å¼å±æ€§-amp-å“åº”å¼é›†åˆ" class="headerlink" title="å“åº”å¼å±æ€§ &amp; å“åº”å¼é›†åˆ"></a>å“åº”å¼å±æ€§ &amp; å“åº”å¼é›†åˆ</h2><h4 id="éåºåˆ—åŒ–-éç¼–è¾‘å™¨å¯è§"><a href="#éåºåˆ—åŒ–-éç¼–è¾‘å™¨å¯è§" class="headerlink" title="éåºåˆ—åŒ–/éç¼–è¾‘å™¨å¯è§"></a>éåºåˆ—åŒ–/éç¼–è¾‘å™¨å¯è§</h4><ul>
<li><code>ReactiveCollection</code></li>
<li><code>ReactiveDictionary</code></li>
<li><code>ReactiveProperty</code></li>
</ul>
<h4 id="ç¼–è¾‘å™¨å¯è§"><a href="#ç¼–è¾‘å™¨å¯è§" class="headerlink" title="ç¼–è¾‘å™¨å¯è§"></a>ç¼–è¾‘å™¨å¯è§</h4><ul>
<li><code>IntReactiveProperty</code></li>
<li><code>LongReactiveProperty</code></li>
<li><code>ByteReactiveProperty</code></li>
<li><code>FloatReactiveProperty</code></li>
<li><code>DoubleReactiveProperty</code></li>
<li><code>StringReactiveProperty</code></li>
<li><code>BoolReactiveProperty</code></li>
<li><code>Vector2ReactiveProperty</code></li>
<li><code>Vector3ReactiveProperty</code></li>
<li><code>Vector4ReactiveProperty</code></li>
<li><code>ColorReactiveProperty</code></li>
<li><code>RectReactiveProperty</code></li>
<li><code>AnimationCurveReactiveProperty</code></li>
<li><code>BoundsReactiveProperty</code></li>
<li><code>QuaternionReactiveProperty</code></li>
</ul>
<h4 id="é’ˆå¯¹å¤šè¡Œå’ŒèŒƒå›´çš„å“åº”å¼å±æ€§"><a href="#é’ˆå¯¹å¤šè¡Œå’ŒèŒƒå›´çš„å“åº”å¼å±æ€§" class="headerlink" title="é’ˆå¯¹å¤šè¡Œå’ŒèŒƒå›´çš„å“åº”å¼å±æ€§"></a>é’ˆå¯¹å¤šè¡Œå’ŒèŒƒå›´çš„å“åº”å¼å±æ€§</h4><p>å¯ç”¨ <code>MultilineReactivePropertyAttribute</code> å’Œ <code>RangeReactivePropertyAttribute</code> æ¥æ›¿ä»£ <code>Multiline</code> å’Œ <code>Range</code></p>
<h4 id="è‡ªå®šä¹‰ç¼–è¾‘å™¨å¯è§çš„å“åº”å¼å±æ€§ï¼š"><a href="#è‡ªå®šä¹‰ç¼–è¾‘å™¨å¯è§çš„å“åº”å¼å±æ€§ï¼š" class="headerlink" title="è‡ªå®šä¹‰ç¼–è¾‘å™¨å¯è§çš„å“åº”å¼å±æ€§ï¼š"></a>è‡ªå®šä¹‰ç¼–è¾‘å™¨å¯è§çš„å“åº”å¼å±æ€§ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public enum Fruit</span><br><span class="line">&#123;</span><br><span class="line">    Apple, Grape</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[Serializable]</span><br><span class="line">public class FruitReactiveProperty : ReactiveProperty&lt;Fruit&gt;</span><br><span class="line">&#123;</span><br><span class="line">    public FruitReactiveProperty()</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public FruitReactiveProperty(Fruit initialValue)</span><br><span class="line">        :base(initialValue)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[UnityEditor.CustomPropertyDrawer(typeof(FruitReactiveProperty))]</span><br><span class="line">[UnityEditor.CustomPropertyDrawer(typeof(YourSpecializedReactiveProperty2))] // and others...</span><br><span class="line">public class ExtendInspectorDisplayDrawer : InspectorDisplayDrawer</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ReadOnlyReactiveProperty"><a href="#ReadOnlyReactiveProperty" class="headerlink" title="ReadOnlyReactiveProperty"></a><code>ReadOnlyReactiveProperty</code></h4><p>å¦‚æœä¸€ä¸ª <code>ReactiveProperty</code> çš„å€¼åªä¼šé€šè¿‡ä¸€ä¸ªæµæ›´æ–°ï¼Œå¯ä½¿ç”¨ <code>ReadOnlyReactiveProperty</code></p>
<h2 id="Model-View-Reactive-Presenter-æ¨¡å¼"><a href="#Model-View-Reactive-Presenter-æ¨¡å¼" class="headerlink" title="Model-View-(Reactive)Presenter æ¨¡å¼"></a>Model-View-(Reactive)Presenter æ¨¡å¼</h2><p>æš‚ä¸ç ”ç©¶</p>
<h2 id="å“åº”å¼å‘½ä»¤-amp-å¼‚æ­¥å“åº”å¼å‘½ä»¤"><a href="#å“åº”å¼å‘½ä»¤-amp-å¼‚æ­¥å“åº”å¼å‘½ä»¤" class="headerlink" title="å“åº”å¼å‘½ä»¤ &amp; å¼‚æ­¥å“åº”å¼å‘½ä»¤"></a>å“åº”å¼å‘½ä»¤ &amp; å¼‚æ­¥å“åº”å¼å‘½ä»¤</h2><p><code>ReactiveCommand</code> æŠ½è±¡äº†æŒ‰é’®çš„ <code>interactable</code> å±æ€§</p>
<p>ï¼ˆPSï¼šå¯¹è±¡å‘½åå¾ˆéš¾ä¸å®é™…ç”¨æ³•è”ç³»åœ¨ä¸€èµ·ï¼Œå…ˆä¸ç ”ç©¶ï¼‰</p>
<h2 id="æ¶ˆæ¯ä»£ç†-amp-å¼‚æ­¥æ¶ˆæ¯ä»£ç†"><a href="#æ¶ˆæ¯ä»£ç†-amp-å¼‚æ­¥æ¶ˆæ¯ä»£ç†" class="headerlink" title="æ¶ˆæ¯ä»£ç† &amp; å¼‚æ­¥æ¶ˆæ¯ä»£ç†"></a>æ¶ˆæ¯ä»£ç† &amp; å¼‚æ­¥æ¶ˆæ¯ä»£ç†</h2><h4 id="MessageBrokerï¼š"><a href="#MessageBrokerï¼š" class="headerlink" title="MessageBrokerï¼š"></a>MessageBrokerï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Subscribe message on global-scope.</span><br><span class="line">MessageBroker.Default.Receive&lt;TestArgs&gt;().Subscribe(x =&gt; Debug.Log(x));</span><br><span class="line"></span><br><span class="line">// Publish message</span><br><span class="line">MessageBroker.Default.Publish(new TestArgs &#123; Value = 1000 &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="AsyncMessageBrokerï¼ˆå¯ä»¥å¤„ç†å¼‚æ­¥çš„-Publish-è°ƒç”¨ï¼‰ï¼š"><a href="#AsyncMessageBrokerï¼ˆå¯ä»¥å¤„ç†å¼‚æ­¥çš„-Publish-è°ƒç”¨ï¼‰ï¼š" class="headerlink" title="AsyncMessageBrokerï¼ˆå¯ä»¥å¤„ç†å¼‚æ­¥çš„ Publish è°ƒç”¨ï¼‰ï¼š"></a>AsyncMessageBrokerï¼ˆå¯ä»¥å¤„ç†å¼‚æ­¥çš„ Publish è°ƒç”¨ï¼‰ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">AsyncMessageBroker.Default.Subscribe&lt;TestArgs&gt;(x =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    // show after 3 seconds.</span><br><span class="line">    return Observable.Timer(TimeSpan.FromSeconds(3)).ForEachAsync(_ =&gt; &#123; Debug.Log(x); &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AsyncMessageBroker.Default</span><br><span class="line">    .PublishAsync(new TestArgs &#123;Value = 3000&#125;)</span><br><span class="line">    .Subscribe(_ =&gt; Debug.Log(&quot;called all subscriber completed&quot;));</span><br></pre></td></tr></table></figure>
<h2 id="UniRx-Toolkit"><a href="#UniRx-Toolkit" class="headerlink" title="UniRx.Toolkit"></a>UniRx.Toolkit</h2><p>å¯¹è±¡æ±  <code>ObjectPool</code>ã€<code>AsyncObjectPool</code></p>
<h2 id="UniRx-Async"><a href="#UniRx-Async" class="headerlink" title="UniRx.Async"></a>UniRx.Async</h2><p><code>UniRx.Async</code> is the custom <code>async/await</code> support utilities.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/10/11/effective-csharp/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/11/effective-csharp/" class="post-title-link" itemprop="url">Effective C# è¯»ä¹¦ç¬”è®°</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-11 21:49:27" itemprop="dateCreated datePublished" datetime="2018-10-11T21:49:27+08:00">2018-10-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-10-22 09:16:16" itemprop="dateModified" datetime="2018-10-22T09:16:16+08:00">2018-10-22</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>PSï¼šæœ¬æ–‡åªæ˜¯è¯»ä¹¦ç¬”è®°ï¼Œè¯¦ç»†èµ„æ–™å»ºè®®çœ‹ä¹¦</p>
<h2 id="C-è¯­è¨€çš„ç¼–ç¨‹ä¹ æƒ¯"><a href="#C-è¯­è¨€çš„ç¼–ç¨‹ä¹ æƒ¯" class="headerlink" title="C# è¯­è¨€çš„ç¼–ç¨‹ä¹ æƒ¯"></a>C# è¯­è¨€çš„ç¼–ç¨‹ä¹ æƒ¯</h2><h3 id="ç¬¬-1-æ¡ï¼šä¼˜å…ˆä½¿ç”¨éšå¼ç±»å‹çš„å±€éƒ¨å˜é‡"><a href="#ç¬¬-1-æ¡ï¼šä¼˜å…ˆä½¿ç”¨éšå¼ç±»å‹çš„å±€éƒ¨å˜é‡" class="headerlink" title="ç¬¬ 1 æ¡ï¼šä¼˜å…ˆä½¿ç”¨éšå¼ç±»å‹çš„å±€éƒ¨å˜é‡"></a>ç¬¬ 1 æ¡ï¼šä¼˜å…ˆä½¿ç”¨éšå¼ç±»å‹çš„å±€éƒ¨å˜é‡</h3><ul>
<li><p>å±€éƒ¨å˜é‡å¯ç”¨ <code>var</code> æ¥å£°æ˜ï¼Œè®©ç¼–è¯‘å™¨è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç±»å‹</p>
</li>
<li><p>ä¸æ¨èç”¨ <code>var</code> å£°æ˜æ•°å€¼ç±»å‹çš„å˜é‡ï¼ˆç²¾åº¦è½¬æ¢é—®é¢˜ï¼‰</p>
</li>
</ul>
<h3 id="ç¬¬-2-æ¡ï¼šè€ƒè™‘ç”¨-readonly-ä»£æ›¿-const"><a href="#ç¬¬-2-æ¡ï¼šè€ƒè™‘ç”¨-readonly-ä»£æ›¿-const" class="headerlink" title="ç¬¬ 2 æ¡ï¼šè€ƒè™‘ç”¨ readonly ä»£æ›¿ const"></a>ç¬¬ 2 æ¡ï¼šè€ƒè™‘ç”¨ readonly ä»£æ›¿ const</h3><ul>
<li><p>readonlyï¼šå£°æ˜è¿è¡ŒæœŸå¸¸é‡</p>
</li>
<li><p>constï¼šå£°æ˜ç¼–è¯‘æœŸå¸¸é‡ï¼›åªæœ‰å½“ç¨‹åºæ€§èƒ½æç«¯é‡è¦ä¸”å¸¸é‡å–å€¼ä¸ä¼šéšç‰ˆæœ¬è€Œå˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæ‰å¯ä»¥è€ƒè™‘ä½¿ç”¨</p>
</li>
</ul>
<h3 id="ç¬¬-3-æ¡ï¼šä¼˜å…ˆè€ƒè™‘-is-æˆ–-as-è¿ç®—ç¬¦ï¼Œå°½é‡å°‘ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#ç¬¬-3-æ¡ï¼šä¼˜å…ˆè€ƒè™‘-is-æˆ–-as-è¿ç®—ç¬¦ï¼Œå°½é‡å°‘ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="ç¬¬ 3 æ¡ï¼šä¼˜å…ˆè€ƒè™‘ is æˆ– as è¿ç®—ç¬¦ï¼Œå°½é‡å°‘ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>ç¬¬ 3 æ¡ï¼šä¼˜å…ˆè€ƒè™‘ is æˆ– as è¿ç®—ç¬¦ï¼Œå°½é‡å°‘ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><h3 id="ç¬¬-4-æ¡ï¼šç”¨å†…æ’å­—ç¬¦ä¸²å–ä»£-string-Format"><a href="#ç¬¬-4-æ¡ï¼šç”¨å†…æ’å­—ç¬¦ä¸²å–ä»£-string-Format" class="headerlink" title="ç¬¬ 4 æ¡ï¼šç”¨å†…æ’å­—ç¬¦ä¸²å–ä»£ string.Format()"></a>ç¬¬ 4 æ¡ï¼šç”¨å†…æ’å­—ç¬¦ä¸²å–ä»£ string.Format()</h3><p>ä¸ªäººè§‰å¾—ä½¿ç”¨æ—¶è¦æ³¨æ„ä»£ç ç®€æ´</p>
<h3 id="ç¬¬-5-æ¡ï¼šç”¨-FormattableString-å–ä»£ä¸“é—¨ä¸ºç‰¹å®šåŒºåŸŸè€Œå†™çš„å­—ç¬¦ä¸²"><a href="#ç¬¬-5-æ¡ï¼šç”¨-FormattableString-å–ä»£ä¸“é—¨ä¸ºç‰¹å®šåŒºåŸŸè€Œå†™çš„å­—ç¬¦ä¸²" class="headerlink" title="ç¬¬ 5 æ¡ï¼šç”¨ FormattableString å–ä»£ä¸“é—¨ä¸ºç‰¹å®šåŒºåŸŸè€Œå†™çš„å­—ç¬¦ä¸²"></a>ç¬¬ 5 æ¡ï¼šç”¨ FormattableString å–ä»£ä¸“é—¨ä¸ºç‰¹å®šåŒºåŸŸè€Œå†™çš„å­—ç¬¦ä¸²</h3><h3 id="ç¬¬-6-æ¡ï¼šä¸è¦ç”¨è¡¨ç¤ºç¬¦å·åç§°çš„ç¡¬å­—ç¬¦ä¸²æ¥è°ƒç”¨-API"><a href="#ç¬¬-6-æ¡ï¼šä¸è¦ç”¨è¡¨ç¤ºç¬¦å·åç§°çš„ç¡¬å­—ç¬¦ä¸²æ¥è°ƒç”¨-API" class="headerlink" title="ç¬¬ 6 æ¡ï¼šä¸è¦ç”¨è¡¨ç¤ºç¬¦å·åç§°çš„ç¡¬å­—ç¬¦ä¸²æ¥è°ƒç”¨ API"></a>ç¬¬ 6 æ¡ï¼šä¸è¦ç”¨è¡¨ç¤ºç¬¦å·åç§°çš„ç¡¬å­—ç¬¦ä¸²æ¥è°ƒç”¨ API</h3><ul>
<li><code>nameof()</code> æ–¹æ³•</li>
</ul>
<h3 id="ç¬¬-7-æ¡ï¼šç”¨å§”æ‰˜è¡¨ç¤ºå›è°ƒ"><a href="#ç¬¬-7-æ¡ï¼šç”¨å§”æ‰˜è¡¨ç¤ºå›è°ƒ" class="headerlink" title="ç¬¬ 7 æ¡ï¼šç”¨å§”æ‰˜è¡¨ç¤ºå›è°ƒ"></a>ç¬¬ 7 æ¡ï¼šç”¨å§”æ‰˜è¡¨ç¤ºå›è°ƒ</h3><ul>
<li>æ³¨æ„ï¼šæ‰€æœ‰çš„å§”æ‰˜éƒ½æ˜¯å¤šæ’­å§”æ‰˜ï¼ˆmulticast delegateï¼‰<ul>
<li>å¤šæ’­å§”æ‰˜è°ƒç”¨ç›®æ ‡å‡½æ•°æ—¶ä¸æ•è·å¼‚å¸¸ï¼Œå› æ­¤åªè¦æœ‰ä¸€ä¸ªç›®æ ‡å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œè°ƒç”¨é“¾å°±ä¼šä¸­æ–­</li>
<li>å¤šæ’­å§”æ‰˜çš„æ‰§è¡Œç»“æœæ˜¯æœ€åè°ƒç”¨çš„ç›®æ ‡å‡½æ•°çš„è¿”å›å€¼ï¼Œå› æ­¤å½“è¿”å›å€¼ä¸æ˜¯ Void æ—¶ï¼Œå¯ç”¨ <code>.GetInvocationList()</code> è¿­ä»£è¿”å›å€¼</li>
</ul>
</li>
</ul>
<h3 id="ç¬¬-8-æ¡ï¼šç”¨-null-æ¡ä»¶è¿ç®—ç¬¦è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åº"><a href="#ç¬¬-8-æ¡ï¼šç”¨-null-æ¡ä»¶è¿ç®—ç¬¦è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åº" class="headerlink" title="ç¬¬ 8 æ¡ï¼šç”¨ null æ¡ä»¶è¿ç®—ç¬¦è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åº"></a>ç¬¬ 8 æ¡ï¼šç”¨ null æ¡ä»¶è¿ç®—ç¬¦è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åº</h3><ul>
<li>é‡‡ç”¨ <code>null</code> æ¡ä»¶è¿ç®—ç¬¦ï¼ˆ<code>?.</code>ï¼‰èƒ½çº¿ç¨‹å®‰å…¨åœ°è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åº</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// å£°æ˜ Updated ä¸ºå§”æ‰˜æˆ–äº‹ä»¶ï¼Œå¯ä¸ºç©º</span><br><span class="line"></span><br><span class="line">// å¯èƒ½ç©ºå¼•ç”¨å¼‚å¸¸</span><br><span class="line">Updated()ï¼›</span><br><span class="line"></span><br><span class="line">// éçº¿ç¨‹å®‰å…¨</span><br><span class="line">if(Updated != null) Updated();</span><br><span class="line"></span><br><span class="line">// çº¿ç¨‹å®‰å…¨ï¼Œä½†éš¾ç†è§£</span><br><span class="line">var handler = Updated;</span><br><span class="line">if(handler != null) handler();</span><br><span class="line"></span><br><span class="line">// çº¿ç¨‹å®‰å…¨</span><br><span class="line">Updated?.Invoke();</span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬-9-æ¡ï¼šå°½é‡é¿å…è£…ç®±ä¸å–æ¶ˆè£…ç®±"><a href="#ç¬¬-9-æ¡ï¼šå°½é‡é¿å…è£…ç®±ä¸å–æ¶ˆè£…ç®±" class="headerlink" title="ç¬¬ 9 æ¡ï¼šå°½é‡é¿å…è£…ç®±ä¸å–æ¶ˆè£…ç®±"></a>ç¬¬ 9 æ¡ï¼šå°½é‡é¿å…è£…ç®±ä¸å–æ¶ˆè£…ç®±</h3><ul>
<li><p>å°½é‡ä¸è¦åœ¨éœ€è¦ä½¿ç”¨ <code>System.Object</code> çš„åœ°æ–¹ç›´æ¥ä½¿ç”¨å€¼ç±»å‹çš„å€¼</p>
</li>
<li><p>å¯ä½¿ç”¨ <code>.ToString()</code> æ˜ç¡®æŠŠå€¼ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²</p>
</li>
</ul>
<h3 id="ç¬¬-10-æ¡ï¼šåªæœ‰åœ¨æ–°ç‰ˆåŸºç±»ä¸ç°æœ‰å­ç±»ä¹‹é—´çš„å†²çªæ—¶æ‰åº”è¯¥ä½¿ç”¨-new-ä¿®é¥°ç¬¦"><a href="#ç¬¬-10-æ¡ï¼šåªæœ‰åœ¨æ–°ç‰ˆåŸºç±»ä¸ç°æœ‰å­ç±»ä¹‹é—´çš„å†²çªæ—¶æ‰åº”è¯¥ä½¿ç”¨-new-ä¿®é¥°ç¬¦" class="headerlink" title="ç¬¬ 10 æ¡ï¼šåªæœ‰åœ¨æ–°ç‰ˆåŸºç±»ä¸ç°æœ‰å­ç±»ä¹‹é—´çš„å†²çªæ—¶æ‰åº”è¯¥ä½¿ç”¨ new ä¿®é¥°ç¬¦"></a>ç¬¬ 10 æ¡ï¼šåªæœ‰åœ¨æ–°ç‰ˆåŸºç±»ä¸ç°æœ‰å­ç±»ä¹‹é—´çš„å†²çªæ—¶æ‰åº”è¯¥ä½¿ç”¨ new ä¿®é¥°ç¬¦</h3><ul>
<li><p><code>new</code> ä¿®é¥°ç¬¦å¯ä»¥é‡æ–°å®šä¹‰ä»åŸºç±»ç»§æ‰¿ä¸‹æ¥çš„éè™šæˆå‘˜ï¼Œä½†è¦æ…ç”¨ï¼ˆä¸æ¨èç”¨ï¼‰</p>
</li>
<li><p>ä½¿ç”¨ <code>new</code> ä¿®é¥°ç¬¦æ˜¯ä¸ºäº†è§£å†³æ–°ç‰ˆåŸºç±»å’Œç°æœ‰å­ç±»ä¹‹é—´çš„å†²çª</p>
</li>
</ul>
<h2 id="NET-çš„èµ„æºç®¡ç†"><a href="#NET-çš„èµ„æºç®¡ç†" class="headerlink" title=".NET çš„èµ„æºç®¡ç†"></a>.NET çš„èµ„æºç®¡ç†</h2><h3 id="ç¬¬-11-æ¡ï¼šç†è§£å¹¶å–„ç”¨-NET-çš„èµ„æºç®¡ç†æœºåˆ¶"><a href="#ç¬¬-11-æ¡ï¼šç†è§£å¹¶å–„ç”¨-NET-çš„èµ„æºç®¡ç†æœºåˆ¶" class="headerlink" title="ç¬¬ 11 æ¡ï¼šç†è§£å¹¶å–„ç”¨ .NET çš„èµ„æºç®¡ç†æœºåˆ¶"></a>ç¬¬ 11 æ¡ï¼šç†è§£å¹¶å–„ç”¨ .NET çš„èµ„æºç®¡ç†æœºåˆ¶</h3><ul>
<li>ç†è§£ C# GC</li>
</ul>
<h3 id="ç¬¬-12-æ¡ï¼šå£°æ˜å­—æ®µæ—¶ï¼Œå°½é‡ç›´æ¥ä¸ºå…¶è®¾å®šåˆå§‹å€¼"><a href="#ç¬¬-12-æ¡ï¼šå£°æ˜å­—æ®µæ—¶ï¼Œå°½é‡ç›´æ¥ä¸ºå…¶è®¾å®šåˆå§‹å€¼" class="headerlink" title="ç¬¬ 12 æ¡ï¼šå£°æ˜å­—æ®µæ—¶ï¼Œå°½é‡ç›´æ¥ä¸ºå…¶è®¾å®šåˆå§‹å€¼"></a>ç¬¬ 12 æ¡ï¼šå£°æ˜å­—æ®µæ—¶ï¼Œå°½é‡ç›´æ¥ä¸ºå…¶è®¾å®šåˆå§‹å€¼</h3><ul>
<li><p>å£°æ˜æˆå‘˜å˜é‡å¹¶ç›´æ¥æŠŠå®ƒçš„åˆå§‹å€¼å†™å‡ºæ¥</p>
</li>
<li><p>ä¸åº”è¯¥ç¼–å†™åˆå§‹åŒ–è¯­å¥çš„æƒ…å†µï¼š</p>
<ul>
<li>æŠŠå¯¹è±¡åˆå§‹åŒ–ä¸º 0 æˆ– null</li>
<li><p>ä¸åŒçš„æ„é€ å‡½æ•°éœ€è¦æ ¹æ®å„è‡ªçš„æ–¹å¼æ¥è®¾å®šæŸä¸ªå­—æ®µçš„åˆå§‹å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class MyClass2</span><br><span class="line">&#123;</span><br><span class="line">   	private List&lt;string&gt; labels = new List&lt;string&gt;();</span><br><span class="line"></span><br><span class="line">   	MyClass2()</span><br><span class="line">   	&#123;</span><br><span class="line">       </span><br><span class="line">   	&#125;</span><br><span class="line"></span><br><span class="line">   	MyClass2(int size)</span><br><span class="line">   	&#123;</span><br><span class="line">       	labels = new List&lt;string&gt;(size);</span><br><span class="line">   	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆå§‹åŒ–å˜é‡çš„è¿‡ç¨‹ä¸­æœ‰å¯èƒ½å‡ºç°å¼‚å¸¸</p>
</li>
</ul>
</li>
</ul>
<h3 id="ç¬¬-13-æ¡ï¼šç”¨é€‚å½“çš„æ–¹å¼åˆå§‹åŒ–ç±»ä¸­çš„é™æ€æˆå‘˜"><a href="#ç¬¬-13-æ¡ï¼šç”¨é€‚å½“çš„æ–¹å¼åˆå§‹åŒ–ç±»ä¸­çš„é™æ€æˆå‘˜" class="headerlink" title="ç¬¬ 13 æ¡ï¼šç”¨é€‚å½“çš„æ–¹å¼åˆå§‹åŒ–ç±»ä¸­çš„é™æ€æˆå‘˜"></a>ç¬¬ 13 æ¡ï¼šç”¨é€‚å½“çš„æ–¹å¼åˆå§‹åŒ–ç±»ä¸­çš„é™æ€æˆå‘˜</h3><ul>
<li>é™æ€æ„é€ å‡½æ•°</li>
</ul>
<h3 id="ç¬¬-14-æ¡ï¼šå°½é‡åˆ å‡é‡å¤çš„åˆå§‹åŒ–é€»è¾‘"><a href="#ç¬¬-14-æ¡ï¼šå°½é‡åˆ å‡é‡å¤çš„åˆå§‹åŒ–é€»è¾‘" class="headerlink" title="ç¬¬ 14 æ¡ï¼šå°½é‡åˆ å‡é‡å¤çš„åˆå§‹åŒ–é€»è¾‘"></a>ç¬¬ 14 æ¡ï¼šå°½é‡åˆ å‡é‡å¤çš„åˆå§‹åŒ–é€»è¾‘</h3><h3 id="ç¬¬-15-æ¡ï¼šä¸è¦åˆ›å»ºæ— è°“çš„å¯¹è±¡"><a href="#ç¬¬-15-æ¡ï¼šä¸è¦åˆ›å»ºæ— è°“çš„å¯¹è±¡" class="headerlink" title="ç¬¬ 15 æ¡ï¼šä¸è¦åˆ›å»ºæ— è°“çš„å¯¹è±¡"></a>ç¬¬ 15 æ¡ï¼šä¸è¦åˆ›å»ºæ— è°“çš„å¯¹è±¡</h3><ul>
<li>é¢‘ç¹ä½¿ç”¨çš„å¯¹è±¡çš„å¤ç”¨</li>
</ul>
<h3 id="ç¬¬-16-æ¡ï¼šç»å¯¹ä¸è¦åœ¨æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨è™šå‡½æ•°"><a href="#ç¬¬-16-æ¡ï¼šç»å¯¹ä¸è¦åœ¨æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨è™šå‡½æ•°" class="headerlink" title="ç¬¬ 16 æ¡ï¼šç»å¯¹ä¸è¦åœ¨æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨è™šå‡½æ•°"></a>ç¬¬ 16 æ¡ï¼šç»å¯¹ä¸è¦åœ¨æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨è™šå‡½æ•°</h3><p>åœ¨ï¼ˆåŸºç±»çš„ï¼‰æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨è™šå‡½æ•°ä¼šä»¤ä»£ç ä¸¥é‡ä¾èµ–äºæ´¾ç”Ÿç±»çš„å®ç°ç»†èŠ‚ï¼Œè€Œè¿™äº›ç»†èŠ‚æ˜¯æ— æ³•æ§åˆ¶çš„</p>
<h3 id="ç¬¬-17-æ¡ï¼šå®ç°æ ‡å‡†çš„-dispose-æ¨¡å¼"><a href="#ç¬¬-17-æ¡ï¼šå®ç°æ ‡å‡†çš„-dispose-æ¨¡å¼" class="headerlink" title="ç¬¬ 17 æ¡ï¼šå®ç°æ ‡å‡†çš„ dispose æ¨¡å¼"></a>ç¬¬ 17 æ¡ï¼šå®ç°æ ‡å‡†çš„ dispose æ¨¡å¼</h3><h2 id="åˆç†åœ°è¿ç”¨æ³›å‹"><a href="#åˆç†åœ°è¿ç”¨æ³›å‹" class="headerlink" title="åˆç†åœ°è¿ç”¨æ³›å‹"></a>åˆç†åœ°è¿ç”¨æ³›å‹</h2><p>å°é—­å¼æ³›å‹ç±»å‹ VS å¼€æ”¾å¼æ³›å‹ç±»å‹</p>
<p>ç±»å‹å‚æ•°æ˜¯å¼•ç”¨ç±»å‹ VS ç±»å‹å‚æ•°æ˜¯å€¼ç±»å‹</p>
<h3 id="ç¬¬-18-æ¡ï¼šåªå®šä¹‰åˆšå¥½å¤Ÿç”¨çš„çº¦æŸæ¡ä»¶"><a href="#ç¬¬-18-æ¡ï¼šåªå®šä¹‰åˆšå¥½å¤Ÿç”¨çš„çº¦æŸæ¡ä»¶" class="headerlink" title="ç¬¬ 18 æ¡ï¼šåªå®šä¹‰åˆšå¥½å¤Ÿç”¨çš„çº¦æŸæ¡ä»¶"></a>ç¬¬ 18 æ¡ï¼šåªå®šä¹‰åˆšå¥½å¤Ÿç”¨çš„çº¦æŸæ¡ä»¶</h3><h3 id="ç¬¬-19-æ¡ï¼šé€šè¿‡è¿è¡ŒæœŸç±»å‹æ£€æŸ¥å®ç°ç‰¹å®šçš„æ³›å‹ç®—æ³•"><a href="#ç¬¬-19-æ¡ï¼šé€šè¿‡è¿è¡ŒæœŸç±»å‹æ£€æŸ¥å®ç°ç‰¹å®šçš„æ³›å‹ç®—æ³•" class="headerlink" title="ç¬¬ 19 æ¡ï¼šé€šè¿‡è¿è¡ŒæœŸç±»å‹æ£€æŸ¥å®ç°ç‰¹å®šçš„æ³›å‹ç®—æ³•"></a>ç¬¬ 19 æ¡ï¼šé€šè¿‡è¿è¡ŒæœŸç±»å‹æ£€æŸ¥å®ç°ç‰¹å®šçš„æ³›å‹ç®—æ³•</h3><h3 id="ç¬¬-20-æ¡ï¼šé€šè¿‡-IComparable-åŠ-IComparer-å®šä¹‰é¡ºåºå…³ç³»"><a href="#ç¬¬-20-æ¡ï¼šé€šè¿‡-IComparable-åŠ-IComparer-å®šä¹‰é¡ºåºå…³ç³»" class="headerlink" title="ç¬¬ 20 æ¡ï¼šé€šè¿‡ IComparable åŠ IComparer å®šä¹‰é¡ºåºå…³ç³»"></a>ç¬¬ 20 æ¡ï¼šé€šè¿‡ IComparable<t> åŠ IComparer<t> å®šä¹‰é¡ºåºå…³ç³»</t></t></h3><h3 id="ç¬¬-21-æ¡ï¼šåˆ›å»ºæ³›å‹ç±»æ—¶ï¼Œæ€»æ˜¯åº”è¯¥ç»™å®ç°äº†-IDisposable-çš„ç±»å‹å‚æ•°æä¾›æ”¯æŒ"><a href="#ç¬¬-21-æ¡ï¼šåˆ›å»ºæ³›å‹ç±»æ—¶ï¼Œæ€»æ˜¯åº”è¯¥ç»™å®ç°äº†-IDisposable-çš„ç±»å‹å‚æ•°æä¾›æ”¯æŒ" class="headerlink" title="ç¬¬ 21 æ¡ï¼šåˆ›å»ºæ³›å‹ç±»æ—¶ï¼Œæ€»æ˜¯åº”è¯¥ç»™å®ç°äº† IDisposable çš„ç±»å‹å‚æ•°æä¾›æ”¯æŒ"></a>ç¬¬ 21 æ¡ï¼šåˆ›å»ºæ³›å‹ç±»æ—¶ï¼Œæ€»æ˜¯åº”è¯¥ç»™å®ç°äº† IDisposable çš„ç±»å‹å‚æ•°æä¾›æ”¯æŒ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">T driver = new T();</span><br><span class="line">using (driver as IDisposable)</span><br><span class="line">&#123;</span><br><span class="line">    driver.DoWork();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬-22-æ¡ï¼šè€ƒè™‘æ”¯æŒæ³›å‹åå˜ä¸é€†å˜"><a href="#ç¬¬-22-æ¡ï¼šè€ƒè™‘æ”¯æŒæ³›å‹åå˜ä¸é€†å˜" class="headerlink" title="ç¬¬ 22 æ¡ï¼šè€ƒè™‘æ”¯æŒæ³›å‹åå˜ä¸é€†å˜"></a>ç¬¬ 22 æ¡ï¼šè€ƒè™‘æ”¯æŒæ³›å‹åå˜ä¸é€†å˜</h3><p>å…³é”®å­—ï¼š<code>in</code> VS <code>out</code></p>
<h3 id="ç¬¬-23-æ¡ï¼šç”¨å§”æ‰˜è¦æ±‚ç±»å‹å‚æ•°å¿…é¡»æä¾›æŸç§æ–¹æ³•"><a href="#ç¬¬-23-æ¡ï¼šç”¨å§”æ‰˜è¦æ±‚ç±»å‹å‚æ•°å¿…é¡»æä¾›æŸç§æ–¹æ³•" class="headerlink" title="ç¬¬ 23 æ¡ï¼šç”¨å§”æ‰˜è¦æ±‚ç±»å‹å‚æ•°å¿…é¡»æä¾›æŸç§æ–¹æ³•"></a>ç¬¬ 23 æ¡ï¼šç”¨å§”æ‰˜è¦æ±‚ç±»å‹å‚æ•°å¿…é¡»æä¾›æŸç§æ–¹æ³•</h3><h3 id="ç¬¬-24-æ¡ï¼šå¦‚æœæœ‰æ³›å‹æ–¹æ³•ï¼Œå°±ä¸è¦å†åˆ›å»ºé’ˆå¯¹åŸºç±»æˆ–æ¥å£çš„é‡è½½ç‰ˆæœ¬"><a href="#ç¬¬-24-æ¡ï¼šå¦‚æœæœ‰æ³›å‹æ–¹æ³•ï¼Œå°±ä¸è¦å†åˆ›å»ºé’ˆå¯¹åŸºç±»æˆ–æ¥å£çš„é‡è½½ç‰ˆæœ¬" class="headerlink" title="ç¬¬ 24 æ¡ï¼šå¦‚æœæœ‰æ³›å‹æ–¹æ³•ï¼Œå°±ä¸è¦å†åˆ›å»ºé’ˆå¯¹åŸºç±»æˆ–æ¥å£çš„é‡è½½ç‰ˆæœ¬"></a>ç¬¬ 24 æ¡ï¼šå¦‚æœæœ‰æ³›å‹æ–¹æ³•ï¼Œå°±ä¸è¦å†åˆ›å»ºé’ˆå¯¹åŸºç±»æˆ–æ¥å£çš„é‡è½½ç‰ˆæœ¬</h3><h3 id="ç¬¬-25-æ¡ï¼šå¦‚æœä¸éœ€è¦æŠŠç±»å‹å‚æ•°æ‰€è¡¨ç¤ºçš„å¯¹è±¡è®¾ä¸ºå®ä¾‹å­—æ®µï¼Œé‚£ä¹ˆåº”è¯¥ä¼˜å…ˆè€ƒè™‘åˆ›å»ºæ³›å‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ³›å‹ç±»"><a href="#ç¬¬-25-æ¡ï¼šå¦‚æœä¸éœ€è¦æŠŠç±»å‹å‚æ•°æ‰€è¡¨ç¤ºçš„å¯¹è±¡è®¾ä¸ºå®ä¾‹å­—æ®µï¼Œé‚£ä¹ˆåº”è¯¥ä¼˜å…ˆè€ƒè™‘åˆ›å»ºæ³›å‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ³›å‹ç±»" class="headerlink" title="ç¬¬ 25 æ¡ï¼šå¦‚æœä¸éœ€è¦æŠŠç±»å‹å‚æ•°æ‰€è¡¨ç¤ºçš„å¯¹è±¡è®¾ä¸ºå®ä¾‹å­—æ®µï¼Œé‚£ä¹ˆåº”è¯¥ä¼˜å…ˆè€ƒè™‘åˆ›å»ºæ³›å‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ³›å‹ç±»"></a>ç¬¬ 25 æ¡ï¼šå¦‚æœä¸éœ€è¦æŠŠç±»å‹å‚æ•°æ‰€è¡¨ç¤ºçš„å¯¹è±¡è®¾ä¸ºå®ä¾‹å­—æ®µï¼Œé‚£ä¹ˆåº”è¯¥ä¼˜å…ˆè€ƒè™‘åˆ›å»ºæ³›å‹æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ³›å‹ç±»</h3><p>å¦‚æœæŸä¸ªç±»å‹æ‹¥æœ‰ç±»å‹çº§åˆ«çš„æ•°æ®æˆå‘˜ï¼Œé‚£ä¹ˆåº”è¯¥å®ç°æˆæ³›å‹ç±»ï¼ˆå°¤å…¶æ˜¯å½“æˆå‘˜çš„ç±»å‹ä¸æ³›å‹çš„ç±»å‹æœ‰å…³æ—¶æ›´åº”è¯¥è¿™æ ·åšï¼‰ï¼Œåä¹‹ï¼Œåˆ™åº”è¯¥å®ç°æˆæ³›å‹æ–¹æ³•ã€‚</p>
<p>å¦‚ï¼šé™æ€å·¥å…·ç±»</p>
<h3 id="ç¬¬-26-æ¡ï¼šå®ç°æ³›å‹æ¥å£çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥å®ç°éæ³›å‹æ¥å£"><a href="#ç¬¬-26-æ¡ï¼šå®ç°æ³›å‹æ¥å£çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥å®ç°éæ³›å‹æ¥å£" class="headerlink" title="ç¬¬ 26 æ¡ï¼šå®ç°æ³›å‹æ¥å£çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥å®ç°éæ³›å‹æ¥å£"></a>ç¬¬ 26 æ¡ï¼šå®ç°æ³›å‹æ¥å£çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥å®ç°éæ³›å‹æ¥å£</h3><p>é€‚ç”¨äºä¸‰é¡¹å†…å®¹ï¼š</p>
<ul>
<li>è¦ç¼–å†™çš„ç±»ä»¥åŠè¿™äº›ç±»æ‰€æ”¯æŒçš„æ¥å£</li>
<li>public å±æ€§</li>
<li>æ‰“ç®—åºåˆ—åŒ–çš„é‚£äº›å…ƒç´ </li>
</ul>
<h3 id="ç¬¬-27-æ¡ï¼šåªæŠŠå¿…å¤‡çš„å¥‘çº¦å®šä¹‰åœ¨æ¥å£ä¸­ï¼ŒæŠŠå…¶ä»–åŠŸèƒ½ç•™ç»™æ‰©å±•æ–¹æ³•å»å®ç°"><a href="#ç¬¬-27-æ¡ï¼šåªæŠŠå¿…å¤‡çš„å¥‘çº¦å®šä¹‰åœ¨æ¥å£ä¸­ï¼ŒæŠŠå…¶ä»–åŠŸèƒ½ç•™ç»™æ‰©å±•æ–¹æ³•å»å®ç°" class="headerlink" title="ç¬¬ 27 æ¡ï¼šåªæŠŠå¿…å¤‡çš„å¥‘çº¦å®šä¹‰åœ¨æ¥å£ä¸­ï¼ŒæŠŠå…¶ä»–åŠŸèƒ½ç•™ç»™æ‰©å±•æ–¹æ³•å»å®ç°"></a>ç¬¬ 27 æ¡ï¼šåªæŠŠå¿…å¤‡çš„å¥‘çº¦å®šä¹‰åœ¨æ¥å£ä¸­ï¼ŒæŠŠå…¶ä»–åŠŸèƒ½ç•™ç»™æ‰©å±•æ–¹æ³•å»å®ç°</h3><h3 id="ç¬¬-28-æ¡ï¼šè€ƒè™‘é€šè¿‡æ‰©å±•æ–¹æ³•å¢å¼ºå·²æ„é€ ç±»å‹çš„åŠŸèƒ½"><a href="#ç¬¬-28-æ¡ï¼šè€ƒè™‘é€šè¿‡æ‰©å±•æ–¹æ³•å¢å¼ºå·²æ„é€ ç±»å‹çš„åŠŸèƒ½" class="headerlink" title="ç¬¬ 28 æ¡ï¼šè€ƒè™‘é€šè¿‡æ‰©å±•æ–¹æ³•å¢å¼ºå·²æ„é€ ç±»å‹çš„åŠŸèƒ½"></a>ç¬¬ 28 æ¡ï¼šè€ƒè™‘é€šè¿‡æ‰©å±•æ–¹æ³•å¢å¼ºå·²æ„é€ ç±»å‹çš„åŠŸèƒ½</h3><h2 id="åˆç†åœ°è¿ç”¨-LINQ"><a href="#åˆç†åœ°è¿ç”¨-LINQ" class="headerlink" title="åˆç†åœ°è¿ç”¨ LINQ"></a>åˆç†åœ°è¿ç”¨ LINQ</h2><h3 id="ç¬¬-29-æ¡ï¼šä¼˜å…ˆè€ƒè™‘æä¾›è¿­ä»£å™¨æ–¹æ³•ï¼Œè€Œä¸è¦è¿”å›é›†åˆ"><a href="#ç¬¬-29-æ¡ï¼šä¼˜å…ˆè€ƒè™‘æä¾›è¿­ä»£å™¨æ–¹æ³•ï¼Œè€Œä¸è¦è¿”å›é›†åˆ" class="headerlink" title="ç¬¬ 29 æ¡ï¼šä¼˜å…ˆè€ƒè™‘æä¾›è¿­ä»£å™¨æ–¹æ³•ï¼Œè€Œä¸è¦è¿”å›é›†åˆ"></a>ç¬¬ 29 æ¡ï¼šä¼˜å…ˆè€ƒè™‘æä¾›è¿­ä»£å™¨æ–¹æ³•ï¼Œè€Œä¸è¦è¿”å›é›†åˆ</h3><h3 id="ç¬¬-30-æ¡ï¼šä¼˜å…ˆè€ƒè™‘é€šè¿‡æŸ¥è¯¢è¯­å¥æ¥ç¼–å†™ä»£ç ï¼Œè€Œä¸è¦ä½¿ç”¨å¾ªç¯è¯­å¥"><a href="#ç¬¬-30-æ¡ï¼šä¼˜å…ˆè€ƒè™‘é€šè¿‡æŸ¥è¯¢è¯­å¥æ¥ç¼–å†™ä»£ç ï¼Œè€Œä¸è¦ä½¿ç”¨å¾ªç¯è¯­å¥" class="headerlink" title="ç¬¬ 30 æ¡ï¼šä¼˜å…ˆè€ƒè™‘é€šè¿‡æŸ¥è¯¢è¯­å¥æ¥ç¼–å†™ä»£ç ï¼Œè€Œä¸è¦ä½¿ç”¨å¾ªç¯è¯­å¥"></a>ç¬¬ 30 æ¡ï¼šä¼˜å…ˆè€ƒè™‘é€šè¿‡æŸ¥è¯¢è¯­å¥æ¥ç¼–å†™ä»£ç ï¼Œè€Œä¸è¦ä½¿ç”¨å¾ªç¯è¯­å¥</h3><p>å£°æ˜å¼æ¨¡å‹ VS å‘½ä»¤å¼æ¨¡å‹</p>
<p>ä¸é‡‡ç”¨å¾ªç¯è¯­å¥æ‰€ç¼–å†™çš„å‘½ä»¤å¼ç»“æ„ç›¸æ¯”ï¼ŒæŸ¥è¯¢è¯­å¥ï¼ˆä¹ŸåŒ…æ‹¬å®ç°äº†æŸ¥è¯¢è¡¨è¾¾å¼æ¨¡å¼çš„æŸ¥è¯¢æ–¹æ³•ï¼‰èƒ½å¤Ÿæ›´ä¸ºæ¸…æ™°åœ°è¡¨è¾¾å¼€å‘è€…çš„æƒ³æ³•</p>
<h3 id="ç¬¬-31-æ¡ï¼šæŠŠé’ˆå¯¹åºåˆ—çš„-API-è®¾è®¡å¾—æ›´åŠ æ˜“äºæ‹¼æ¥"><a href="#ç¬¬-31-æ¡ï¼šæŠŠé’ˆå¯¹åºåˆ—çš„-API-è®¾è®¡å¾—æ›´åŠ æ˜“äºæ‹¼æ¥" class="headerlink" title="ç¬¬ 31 æ¡ï¼šæŠŠé’ˆå¯¹åºåˆ—çš„ API è®¾è®¡å¾—æ›´åŠ æ˜“äºæ‹¼æ¥"></a>ç¬¬ 31 æ¡ï¼šæŠŠé’ˆå¯¹åºåˆ—çš„ API è®¾è®¡å¾—æ›´åŠ æ˜“äºæ‹¼æ¥</h3><h3 id="ç¬¬-32-æ¡ï¼šå°†è¿­ä»£é€»è¾‘ä¸æ“ä½œã€è°“è¯åŠå‡½æ•°è§£è€¦"><a href="#ç¬¬-32-æ¡ï¼šå°†è¿­ä»£é€»è¾‘ä¸æ“ä½œã€è°“è¯åŠå‡½æ•°è§£è€¦" class="headerlink" title="ç¬¬ 32 æ¡ï¼šå°†è¿­ä»£é€»è¾‘ä¸æ“ä½œã€è°“è¯åŠå‡½æ•°è§£è€¦"></a>ç¬¬ 32 æ¡ï¼šå°†è¿­ä»£é€»è¾‘ä¸æ“ä½œã€è°“è¯åŠå‡½æ•°è§£è€¦</h3><h3 id="ç¬¬-33-æ¡ï¼šç­‰çœŸæ­£ç”¨åˆ°åºåˆ—ä¸­çš„å…ƒç´ æ—¶å†å»ç”Ÿæˆ"><a href="#ç¬¬-33-æ¡ï¼šç­‰çœŸæ­£ç”¨åˆ°åºåˆ—ä¸­çš„å…ƒç´ æ—¶å†å»ç”Ÿæˆ" class="headerlink" title="ç¬¬ 33 æ¡ï¼šç­‰çœŸæ­£ç”¨åˆ°åºåˆ—ä¸­çš„å…ƒç´ æ—¶å†å»ç”Ÿæˆ"></a>ç¬¬ 33 æ¡ï¼šç­‰çœŸæ­£ç”¨åˆ°åºåˆ—ä¸­çš„å…ƒç´ æ—¶å†å»ç”Ÿæˆ</h3><h3 id="ç¬¬-34-æ¡ï¼šè€ƒè™‘é€šè¿‡å‡½æ•°å‚æ•°æ¥æ”¾æ¾è€¦åˆå…³ç³»"><a href="#ç¬¬-34-æ¡ï¼šè€ƒè™‘é€šè¿‡å‡½æ•°å‚æ•°æ¥æ”¾æ¾è€¦åˆå…³ç³»" class="headerlink" title="ç¬¬ 34 æ¡ï¼šè€ƒè™‘é€šè¿‡å‡½æ•°å‚æ•°æ¥æ”¾æ¾è€¦åˆå…³ç³»"></a>ç¬¬ 34 æ¡ï¼šè€ƒè™‘é€šè¿‡å‡½æ•°å‚æ•°æ¥æ”¾æ¾è€¦åˆå…³ç³»</h3><h3 id="ç¬¬-35-æ¡ï¼šç»å¯¹ä¸è¦é‡è½½æ‰©å±•æ–¹æ³•"><a href="#ç¬¬-35-æ¡ï¼šç»å¯¹ä¸è¦é‡è½½æ‰©å±•æ–¹æ³•" class="headerlink" title="ç¬¬ 35 æ¡ï¼šç»å¯¹ä¸è¦é‡è½½æ‰©å±•æ–¹æ³•"></a>ç¬¬ 35 æ¡ï¼šç»å¯¹ä¸è¦é‡è½½æ‰©å±•æ–¹æ³•</h3><h3 id="ç¬¬-36-æ¡ï¼šç†è§£æŸ¥è¯¢è¡¨è¾¾å¼ä¸æ–¹æ³•è°ƒç”¨ä¹‹é—´çš„æ˜ å°„å…³ç³»"><a href="#ç¬¬-36-æ¡ï¼šç†è§£æŸ¥è¯¢è¡¨è¾¾å¼ä¸æ–¹æ³•è°ƒç”¨ä¹‹é—´çš„æ˜ å°„å…³ç³»" class="headerlink" title="ç¬¬ 36 æ¡ï¼šç†è§£æŸ¥è¯¢è¡¨è¾¾å¼ä¸æ–¹æ³•è°ƒç”¨ä¹‹é—´çš„æ˜ å°„å…³ç³»"></a>ç¬¬ 36 æ¡ï¼šç†è§£æŸ¥è¯¢è¡¨è¾¾å¼ä¸æ–¹æ³•è°ƒç”¨ä¹‹é—´çš„æ˜ å°„å…³ç³»</h3><h3 id="ç¬¬-37-æ¡ï¼šå°½é‡é‡‡ç”¨æƒ°æ€§æ±‚å€¼çš„æ–¹å¼æ¥æŸ¥è¯¢ï¼Œè€Œä¸è¦åŠæ—©æ±‚å€¼"><a href="#ç¬¬-37-æ¡ï¼šå°½é‡é‡‡ç”¨æƒ°æ€§æ±‚å€¼çš„æ–¹å¼æ¥æŸ¥è¯¢ï¼Œè€Œä¸è¦åŠæ—©æ±‚å€¼" class="headerlink" title="ç¬¬ 37 æ¡ï¼šå°½é‡é‡‡ç”¨æƒ°æ€§æ±‚å€¼çš„æ–¹å¼æ¥æŸ¥è¯¢ï¼Œè€Œä¸è¦åŠæ—©æ±‚å€¼"></a>ç¬¬ 37 æ¡ï¼šå°½é‡é‡‡ç”¨æƒ°æ€§æ±‚å€¼çš„æ–¹å¼æ¥æŸ¥è¯¢ï¼Œè€Œä¸è¦åŠæ—©æ±‚å€¼</h3><h3 id="ç¬¬-38-æ¡ï¼šè€ƒè™‘ç”¨-lambda-è¡¨è¾¾å¼æ¥æ›¿ä»£æ–¹æ³•"><a href="#ç¬¬-38-æ¡ï¼šè€ƒè™‘ç”¨-lambda-è¡¨è¾¾å¼æ¥æ›¿ä»£æ–¹æ³•" class="headerlink" title="ç¬¬ 38 æ¡ï¼šè€ƒè™‘ç”¨ lambda è¡¨è¾¾å¼æ¥æ›¿ä»£æ–¹æ³•"></a>ç¬¬ 38 æ¡ï¼šè€ƒè™‘ç”¨ lambda è¡¨è¾¾å¼æ¥æ›¿ä»£æ–¹æ³•</h3><h3 id="ç¬¬-39-æ¡ï¼šä¸è¦åœ¨-Func-ä¸-Action-ä¸­æŠ›å‡ºå¼‚å¸¸"><a href="#ç¬¬-39-æ¡ï¼šä¸è¦åœ¨-Func-ä¸-Action-ä¸­æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="ç¬¬ 39 æ¡ï¼šä¸è¦åœ¨ Func ä¸ Action ä¸­æŠ›å‡ºå¼‚å¸¸"></a>ç¬¬ 39 æ¡ï¼šä¸è¦åœ¨ Func ä¸ Action ä¸­æŠ›å‡ºå¼‚å¸¸</h3><h3 id="ç¬¬-40-æ¡ï¼šæŒæ¡å°½æ—©æ‰§è¡Œä¸å»¶è¿Ÿæ‰§è¡Œä¹‹é—´çš„åŒºåˆ«"><a href="#ç¬¬-40-æ¡ï¼šæŒæ¡å°½æ—©æ‰§è¡Œä¸å»¶è¿Ÿæ‰§è¡Œä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="ç¬¬ 40 æ¡ï¼šæŒæ¡å°½æ—©æ‰§è¡Œä¸å»¶è¿Ÿæ‰§è¡Œä¹‹é—´çš„åŒºåˆ«"></a>ç¬¬ 40 æ¡ï¼šæŒæ¡å°½æ—©æ‰§è¡Œä¸å»¶è¿Ÿæ‰§è¡Œä¹‹é—´çš„åŒºåˆ«</h3><h3 id="ç¬¬-41-æ¡ï¼šä¸è¦æŠŠå¼€é”€å¤§çš„èµ„æºæ•è·åˆ°é—­åŒ…ä¸­"><a href="#ç¬¬-41-æ¡ï¼šä¸è¦æŠŠå¼€é”€å¤§çš„èµ„æºæ•è·åˆ°é—­åŒ…ä¸­" class="headerlink" title="ç¬¬ 41 æ¡ï¼šä¸è¦æŠŠå¼€é”€å¤§çš„èµ„æºæ•è·åˆ°é—­åŒ…ä¸­"></a>ç¬¬ 41 æ¡ï¼šä¸è¦æŠŠå¼€é”€å¤§çš„èµ„æºæ•è·åˆ°é—­åŒ…ä¸­</h3><h3 id="ç¬¬-42-æ¡ï¼šæ³¨æ„-IEnumerable-ä¸-IQueryable-å½¢å¼çš„æ•°æ®æºä¹‹é—´çš„åŒºåˆ«"><a href="#ç¬¬-42-æ¡ï¼šæ³¨æ„-IEnumerable-ä¸-IQueryable-å½¢å¼çš„æ•°æ®æºä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="ç¬¬ 42 æ¡ï¼šæ³¨æ„ IEnumerable ä¸ IQueryable å½¢å¼çš„æ•°æ®æºä¹‹é—´çš„åŒºåˆ«"></a>ç¬¬ 42 æ¡ï¼šæ³¨æ„ IEnumerable ä¸ IQueryable å½¢å¼çš„æ•°æ®æºä¹‹é—´çš„åŒºåˆ«</h3><p><code>AsQueryable()</code></p>
<h3 id="ç¬¬-43-æ¡ï¼šç”¨-Single-åŠ-First-æ¥æ˜ç¡®åœ°éªŒè¯ä½ å¯¹æŸ¥è¯¢ç»“æœæ‰€åšçš„å‡è®¾"><a href="#ç¬¬-43-æ¡ï¼šç”¨-Single-åŠ-First-æ¥æ˜ç¡®åœ°éªŒè¯ä½ å¯¹æŸ¥è¯¢ç»“æœæ‰€åšçš„å‡è®¾" class="headerlink" title="ç¬¬ 43 æ¡ï¼šç”¨ Single() åŠ First() æ¥æ˜ç¡®åœ°éªŒè¯ä½ å¯¹æŸ¥è¯¢ç»“æœæ‰€åšçš„å‡è®¾"></a>ç¬¬ 43 æ¡ï¼šç”¨ Single() åŠ First() æ¥æ˜ç¡®åœ°éªŒè¯ä½ å¯¹æŸ¥è¯¢ç»“æœæ‰€åšçš„å‡è®¾</h3><h3 id="ç¬¬-44-æ¡ï¼šä¸è¦ä¿®æ”¹ç»‘å®šå˜é‡"><a href="#ç¬¬-44-æ¡ï¼šä¸è¦ä¿®æ”¹ç»‘å®šå˜é‡" class="headerlink" title="ç¬¬ 44 æ¡ï¼šä¸è¦ä¿®æ”¹ç»‘å®šå˜é‡"></a>ç¬¬ 44 æ¡ï¼šä¸è¦ä¿®æ”¹ç»‘å®šå˜é‡</h3><h2 id="åˆç†åœ°è¿ç”¨å¼‚å¸¸"><a href="#åˆç†åœ°è¿ç”¨å¼‚å¸¸" class="headerlink" title="åˆç†åœ°è¿ç”¨å¼‚å¸¸"></a>åˆç†åœ°è¿ç”¨å¼‚å¸¸</h2><h3 id="ç¬¬-45-æ¡ï¼šè€ƒè™‘åœ¨æ–¹æ³•çº¦å®šé­åˆ°è¿èƒŒæ—¶æŠ›å‡ºå¼‚å¸¸"><a href="#ç¬¬-45-æ¡ï¼šè€ƒè™‘åœ¨æ–¹æ³•çº¦å®šé­åˆ°è¿èƒŒæ—¶æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="ç¬¬ 45 æ¡ï¼šè€ƒè™‘åœ¨æ–¹æ³•çº¦å®šé­åˆ°è¿èƒŒæ—¶æŠ›å‡ºå¼‚å¸¸"></a>ç¬¬ 45 æ¡ï¼šè€ƒè™‘åœ¨æ–¹æ³•çº¦å®šé­åˆ°è¿èƒŒæ—¶æŠ›å‡ºå¼‚å¸¸</h3><h3 id="ç¬¬-46-æ¡ï¼šåˆ©ç”¨-using-ä¸-try-finally-æ¥ç†æ¸…èµ„æº"><a href="#ç¬¬-46-æ¡ï¼šåˆ©ç”¨-using-ä¸-try-finally-æ¥ç†æ¸…èµ„æº" class="headerlink" title="ç¬¬ 46 æ¡ï¼šåˆ©ç”¨ using ä¸ try/finally æ¥ç†æ¸…èµ„æº"></a>ç¬¬ 46 æ¡ï¼šåˆ©ç”¨ using ä¸ try/finally æ¥ç†æ¸…èµ„æº</h3><h3 id="ç¬¬-47-æ¡ï¼šä¸“é—¨é’ˆå¯¹åº”ç”¨ç¨‹åºåˆ›å»ºå¼‚å¸¸"><a href="#ç¬¬-47-æ¡ï¼šä¸“é—¨é’ˆå¯¹åº”ç”¨ç¨‹åºåˆ›å»ºå¼‚å¸¸" class="headerlink" title="ç¬¬ 47 æ¡ï¼šä¸“é—¨é’ˆå¯¹åº”ç”¨ç¨‹åºåˆ›å»ºå¼‚å¸¸"></a>ç¬¬ 47 æ¡ï¼šä¸“é—¨é’ˆå¯¹åº”ç”¨ç¨‹åºåˆ›å»ºå¼‚å¸¸</h3><h3 id="ç¬¬-48-æ¡ï¼šä¼˜å…ˆè€ƒè™‘åšå‡ºå¼ºå¼‚å¸¸ä¿è¯"><a href="#ç¬¬-48-æ¡ï¼šä¼˜å…ˆè€ƒè™‘åšå‡ºå¼ºå¼‚å¸¸ä¿è¯" class="headerlink" title="ç¬¬ 48 æ¡ï¼šä¼˜å…ˆè€ƒè™‘åšå‡ºå¼ºå¼‚å¸¸ä¿è¯"></a>ç¬¬ 48 æ¡ï¼šä¼˜å…ˆè€ƒè™‘åšå‡ºå¼ºå¼‚å¸¸ä¿è¯</h3><h3 id="ç¬¬-49-æ¡ï¼šè€ƒè™‘ç”¨å¼‚å¸¸ç­›é€‰å™¨æ¥æ”¹å†™å…ˆæ•è·å¼‚å¸¸å†é‡æ–°æŠ›å‡ºçš„é€»è¾‘"><a href="#ç¬¬-49-æ¡ï¼šè€ƒè™‘ç”¨å¼‚å¸¸ç­›é€‰å™¨æ¥æ”¹å†™å…ˆæ•è·å¼‚å¸¸å†é‡æ–°æŠ›å‡ºçš„é€»è¾‘" class="headerlink" title="ç¬¬ 49 æ¡ï¼šè€ƒè™‘ç”¨å¼‚å¸¸ç­›é€‰å™¨æ¥æ”¹å†™å…ˆæ•è·å¼‚å¸¸å†é‡æ–°æŠ›å‡ºçš„é€»è¾‘"></a>ç¬¬ 49 æ¡ï¼šè€ƒè™‘ç”¨å¼‚å¸¸ç­›é€‰å™¨æ¥æ”¹å†™å…ˆæ•è·å¼‚å¸¸å†é‡æ–°æŠ›å‡ºçš„é€»è¾‘</h3><h3 id="ç¬¬-50-æ¡ï¼šåˆç†åˆ©ç”¨å¼‚å¸¸ç­›é€‰å™¨çš„å‰¯ä½œç”¨æ¥å®ç°æŸäº›æ•ˆæœ"><a href="#ç¬¬-50-æ¡ï¼šåˆç†åˆ©ç”¨å¼‚å¸¸ç­›é€‰å™¨çš„å‰¯ä½œç”¨æ¥å®ç°æŸäº›æ•ˆæœ" class="headerlink" title="ç¬¬ 50 æ¡ï¼šåˆç†åˆ©ç”¨å¼‚å¸¸ç­›é€‰å™¨çš„å‰¯ä½œç”¨æ¥å®ç°æŸäº›æ•ˆæœ"></a>ç¬¬ 50 æ¡ï¼šåˆç†åˆ©ç”¨å¼‚å¸¸ç­›é€‰å™¨çš„å‰¯ä½œç”¨æ¥å®ç°æŸäº›æ•ˆæœ</h3>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/09/28/csharp-closure-capture/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/28/csharp-closure-capture/" class="post-title-link" itemprop="url">C# â€”â€” Closure Captureï¼ˆé—­åŒ…æ•è·ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-28 09:32:47" itemprop="dateCreated datePublished" datetime="2018-09-28T09:32:47+08:00">2018-09-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-10-08 09:43:24" itemprop="dateModified" datetime="2018-10-08T09:43:24+08:00">2018-10-08</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>å…ˆçœ‹ä¸¤ä¸ªå…¸å‹çš„ä½¿ç”¨é—­åŒ…ä¾‹å­ï¼Œå¹¶æ€è€ƒå…¶è¾“å‡ºä¸åŒçš„åŸå› </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Action[] actions = new Action[3];</span><br><span class="line"></span><br><span class="line">for (int i = 0; i &lt; 3; i++)</span><br><span class="line">&#123;</span><br><span class="line">    // é—­åŒ…åˆ›å»º</span><br><span class="line">    actions[i] = () =&gt; &#123; Debug.Log(&quot;i = &quot; + i); &#125;;</span><br><span class="line">    // é—­åŒ…ç›´æ¥æ‰§è¡Œ</span><br><span class="line">    actions[i]();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾“å‡º 0ï¼Œ1ï¼Œ2</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Action[] actions = new Action[3];</span><br><span class="line"></span><br><span class="line">for (int i = 0; i &lt; 3; i++)</span><br><span class="line">&#123;</span><br><span class="line">    // é—­åŒ…åˆ›å»º</span><br><span class="line">    actions[i] = () =&gt; &#123; Debug.Log(&quot;i = &quot; + i); &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for (int i = 0; i &lt; 3; i++)</span><br><span class="line">&#123;</span><br><span class="line">    // é—­åŒ…å»¶è¿Ÿæ‰§è¡Œ</span><br><span class="line">    actions[i]();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾“å‡º 3ï¼Œ3ï¼Œ3</span><br></pre></td></tr></table></figure>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é—­åŒ…æ•è·å¤–éƒ¨å˜é‡æ—¶æ˜¯ä½¿ç”¨å¼•ç”¨çš„æ–¹å¼ï¼Œæ‰€ä»¥å½“é—­åŒ…æ‰§è¡Œæ—¶ï¼Œæ•è·å˜é‡å°†ä»¥æœ€æ–°å€¼å‚ä¸è¿ç®—</p>
<p>å› æ­¤ï¼Œå½“ä½¿ç”¨é—­åŒ…å¹¶éœ€è¦æ•è·å¤–éƒ¨å˜é‡æ—¶ï¼Œéœ€è¦æ€è€ƒï¼š</p>
<ul>
<li><p>é—­åŒ…æ‰§è¡Œçš„æ—¶æœºä¸æ•è·å˜é‡çš„å˜åŒ–ä¹‹é—´çš„å…³ç³»</p>
</li>
<li><p>é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸä¸æ•è·å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œéœ€è¦æ˜ç¡®åªè¦æœ‰ä»»ä½•ä¸€ä¸ªé—­åŒ…çš„å§”æ‰˜å®ä¾‹åœ¨å¼•ç”¨æ•è·å˜é‡ï¼Œå®ƒå°±ä¸ä¼šè¢«å›æ”¶</p>
</li>
</ul>
<h3 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h3><p>å…¶å®å½“é—­åŒ…éœ€è¦æ•è·å¤–éƒ¨å˜é‡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªä¸´æ—¶ç±»ï¼Œå¹¶ä»¥è¯¥ä¸´æ—¶ç±»çš„å®ä¾‹æ¥æŒæœ‰å¯¹å¤–éƒ¨å˜é‡çš„å¼•ç”¨ï¼›è€Œå½“æ— éœ€æ•è·å¤–éƒ¨å˜é‡æ—¶ï¼Œä¸ä¼šç”Ÿæˆä¸´æ—¶ç±»ï¼ˆå¯åç¼–è¯‘æ·±å…¥äº†è§£ï¼‰</p>
<p>æ‰€ä»¥ï¼Œæœ‰æ—¶åœ¨è€ƒè™‘ç¨‹åºæ€§èƒ½æ—¶ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘é¿å…é—­åŒ…æ•è·å¤–éƒ¨å˜é‡ï¼š</p>
<ul>
<li><p>åœ¨è®¾è®¡é—­åŒ…æ—¶ï¼Œå¯è€ƒè™‘æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå¯é€‰çš„èŒƒå‹å‚æ•°ï¼Œä»¥é€‚é…å„ç§éœ€è¦ä¼ å…¥å¤–éƒ¨å˜é‡çš„è°ƒç”¨ï¼Œå¦‚ï¼š</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public delegate TResult Func&lt;T, TResult&gt;(T arg1);</span><br><span class="line"></span><br><span class="line">public delegate TResult Func&lt;T1, T2, TResult&gt;(T1 arg1, T2 arg2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“ä½¿ç”¨éœ€è¦ä¼ å…¥é—­åŒ…çš„æ–¹æ³•ï¼Œå¹¶ä¸”é—­åŒ…éœ€è¦æ•è·å¤–éƒ¨å˜é‡æ—¶ï¼Œå¯ç•™æ„æ˜¯å¦è¿˜æœ‰å…¶ä»–å¯ä¼ å‚å½¢å¼çš„æ–¹æ³•å¯ç”¨ï¼Œå¦‚ï¼š<code>UniRx</code> ä¸­çš„å„ç§ <code>xxxWithState()</code> æ–¹æ³•å°±æ˜¯ä¸ºäº†é¿å…<code>é—­åŒ…æ•è·</code></p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/09/25/unirx-micro-coroutine/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/25/unirx-micro-coroutine/" class="post-title-link" itemprop="url">UniRx â€”â€” MicroCoroutineï¼ˆå¾®åç¨‹ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-25 23:10:24" itemprop="dateCreated datePublished" datetime="2018-09-25T23:10:24+08:00">2018-09-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-09-28 00:32:56" itemprop="dateModified" datetime="2018-09-28T00:32:56+08:00">2018-09-28</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒï¼š</p>
<p><a href="https://github.com/neuecc/UniRx#microcoroutine">UniRx å®˜æ–¹ README</a></p>
<p><a href="https://blogs.unity3d.com/2015/12/23/1k-update-calls/" target="_blank" rel="noopener">Unity3d 10000 Update() calls</a></p>
<p><a href="https://blog.csdn.net/huutu/article/details/50522585" target="_blank" rel="noopener">Unity3d 10000 Update() calls æ€§èƒ½ä¼˜åŒ–</a></p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¾®åç¨‹æ˜¯å†…å­˜é«˜æ•ˆã€å¿«é€Ÿçš„åç¨‹ workerï¼Œæ˜¯åŸºäº <a href="https://blogs.unity3d.com/2015/12/23/1k-update-calls/" target="_blank" rel="noopener">Unity3d 10000 Update() calls</a> è¿™ç¯‡æ–‡ç« é˜è¿°çš„æ€æƒ³å®ç°çš„</p>
<h4 id="ä½¿ç”¨-MicroCoroutine-æ¥æ›¿æ¢ä¸€èˆ¬çš„-Coroutine"><a href="#ä½¿ç”¨-MicroCoroutine-æ¥æ›¿æ¢ä¸€èˆ¬çš„-Coroutine" class="headerlink" title="ä½¿ç”¨ MicroCoroutine æ¥æ›¿æ¢ä¸€èˆ¬çš„ Coroutine:"></a>ä½¿ç”¨ <code>MicroCoroutine</code> æ¥æ›¿æ¢ä¸€èˆ¬çš„ <code>Coroutine</code>:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">int counter;</span><br><span class="line"></span><br><span class="line">IEnumerator Worker()</span><br><span class="line">&#123;</span><br><span class="line">    while(true)</span><br><span class="line">    &#123;</span><br><span class="line">        counter++;</span><br><span class="line">        yield return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    for(var i = 0; i &lt; 10000; i++)</span><br><span class="line">    &#123;</span><br><span class="line">		// fast, memory efficient</span><br><span class="line">		MainThreadDispatcher.StartUpdateMicroCoroutine(Worker());</span><br><span class="line"></span><br><span class="line">		// fast, memory efficient</span><br><span class="line">		Observable.FromMicroCoroutine(Worker).Subscribe(_ =&gt; &#123; &#125;);</span><br><span class="line"></span><br><span class="line">		// slow...</span><br><span class="line">		// StartCoroutine(Worker());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="MicroCoroutine-çš„å±€é™æ€§"><a href="#MicroCoroutine-çš„å±€é™æ€§" class="headerlink" title="MicroCoroutine çš„å±€é™æ€§"></a><code>MicroCoroutine</code> çš„å±€é™æ€§</h4><ul>
<li><p>åªæ”¯æŒ <code>yield return null</code></p>
</li>
<li><p>æ›´æ–°æ—¶æœºç”±å¯åŠ¨æ–¹æ³•ï¼ˆ<code>StartUpdateMicroCoroutine()</code>ã€<code>StartFixedUpdateMicroCoroutine()</code>ã€<code>StartEndOfFrameMicroCoroutine()</code>ï¼‰å†³å®š</p>
</li>
</ul>
<h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><p><a href="https://blogs.unity3d.com/2015/12/23/1k-update-calls/" target="_blank" rel="noopener">Unity3d 10000 Update() calls</a> è¿™ç¯‡æ–‡ç« ä¸»è¦é˜è¿°çš„æ€æƒ³ï¼ˆå»ºè®®ç›´æ¥çœ‹åŸæ–‡æˆ–è¯‘æ–‡ï¼‰ï¼š</p>
<h4 id="å¼€å±•è®¨è®ºçš„ä¾‹å­"><a href="#å¼€å±•è®¨è®ºçš„ä¾‹å­" class="headerlink" title="å¼€å±•è®¨è®ºçš„ä¾‹å­"></a>å¼€å±•è®¨è®ºçš„ä¾‹å­</h4><p><code>MonoBehaviour</code> ä¸­å¯ä»¥å®šä¹‰ä¸€äº›ç‰¹å®šçš„é­”æœ¯æ–¹æ³•ï¼Œå¦‚ï¼š<code>Update()</code> ç­‰ï¼Œè¿™äº›æ–¹æ³•é€šå¸¸æœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>ä¸æ¸…æ¥šæ–¹æ³•æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„</li>
<li>ä¸æ¸…æ¥šå¤šä¸ª <code>MonoBehaviour</code> ä¹‹é—´ï¼Œè¿™äº›æ–¹æ³•çš„è°ƒç”¨é¡ºåº</li>
<li>é <code>IDE</code> å‹å¥½  </li>
</ul>
<p>æœ‰å¼€å‘è€…é€šè¿‡æ‰©å±• <code>MonoBehaviour</code> æŠ½è±¡å‡ºä¸€ä¸ªæ–°çš„ç»Ÿä¸€çš„ <code>BaseMonoBehaviour</code>ï¼Œæ¥å‡å°‘ä¸Šè¿°çš„ä¸è¶³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public abstract class BaseMonoBehaviour : MonoBehaviour &#123;</span><br><span class="line">    protected virtual void Awake() &#123;&#125;</span><br><span class="line">    protected virtual void Start() &#123;&#125;</span><br><span class="line">    protected virtual void OnEnable() &#123;&#125;</span><br><span class="line">    protected virtual void OnDisable() &#123;&#125;</span><br><span class="line">    protected virtual void Update() &#123;&#125;</span><br><span class="line">    protected virtual void LateUpdate() &#123;&#125;</span><br><span class="line">    protected virtual void FixedUpdate() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†è¿™ç§åšæ³•ä¼šå¸¦æ¥æ–°çš„é—®é¢˜ï¼šæ‰€æœ‰ç»§æ‰¿ <code>BaseMonoBehaviour</code> çš„è„šæœ¬ï¼Œä¸Šè¿°å£°æ˜çš„é­”æœ¯æ–¹æ³•éƒ½ä¼šåœ¨ç‰¹å®šæ—¶æœºè¢«æ‰§è¡Œï¼Œæ¯”å¦‚åœ¨æ¯å¸§æ‰§è¡Œ <code>Update()</code> æ–¹æ³•ï¼Œå³ä½¿å®ƒæ˜¯ä¸€ä¸ªç©ºæ–¹æ³•</p>
<h4 id="æ€§èƒ½åˆ†æè°ƒç”¨-10000-ä¸ªåƒ-Update-è¿™æ ·çš„æ–¹æ³•"><a href="#æ€§èƒ½åˆ†æè°ƒç”¨-10000-ä¸ªåƒ-Update-è¿™æ ·çš„æ–¹æ³•" class="headerlink" title="æ€§èƒ½åˆ†æè°ƒç”¨ 10000 ä¸ªåƒ Update() è¿™æ ·çš„æ–¹æ³•"></a>æ€§èƒ½åˆ†æè°ƒç”¨ 10000 ä¸ªåƒ <code>Update()</code> è¿™æ ·çš„æ–¹æ³•</h4><p>å…·ä½“æµ‹è¯•æµç¨‹ç•¥å¯çœ‹åŸæ–‡ï¼ˆPSï¼šåŸæ–‡åˆ—å‡ºçš„ä»£ç æ¯”è¾ƒéš¾ç†é¡ºé€»è¾‘ï¼Œæ¨èç»“åˆå®Œæ•´çš„é¡¹ç›®ä»£ç åˆ†æï¼‰</p>
<p>åŸæ–‡ä¸»è¦åšäº† 3 ç§æ“ä½œçš„è€—æ—¶å¯¹æ¯”ï¼š</p>
<ul>
<li><p><code>Unity</code> å†…éƒ¨è¿­ä»£ 10000 ä¸ª <code>MonoBehaviour</code> çš„ <code>Update()</code> æ–¹æ³•</p>
</li>
<li><p>åˆ—è¡¨ç±»å‹å¾ªç¯è¿­ä»£ 10000 ä¸ª <code>ManagedUpdateBehavior</code> çš„ <code>UpdateMe()</code> æ–¹æ³•</p>
</li>
<li><p>æ•°ç»„ç±»å‹å¾ªç¯è¿­ä»£ 10000 ä¸ª <code>ManagedUpdateBehavior</code> çš„ <code>UpdateMe()</code> æ–¹æ³•</p>
</li>
</ul>
<h4 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li><p><code>Unity</code> åœ¨è°ƒç”¨åƒ <code>Update()</code> è¿™æ ·çš„é­”æ³•æ–¹æ³•æ—¶ï¼Œä¸ºäº†é˜²æ­¢æ¸¸æˆå‡ºé”™æˆ–å´©æºƒï¼Œé€šå¸¸éƒ½éœ€è¦åšå¾ˆå¤šçš„æ£€æµ‹å’Œå¤„ç†ï¼Œå› æ­¤å½“æœ‰å¤§é‡çš„ <code>MonoBehaviour</code> æ—¶ï¼Œè¿™äº›å¤„ç†ç´¯è®¡çš„è€—æ—¶å°±ä¸èƒ½è½»æ˜“å¿½è§†äº†</p>
</li>
<li><p>åˆ é™¤ä¸å¿…è¦çš„é­”æœ¯æ–¹æ³•æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼Œè€Œä¸Šè¿°æŠ½è±¡å‡º <code>BaseMonoBehaviour</code> è¿™ç§åšæ³•æ˜¯ä¸å¯å–çš„</p>
</li>
<li><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå½“è€ƒè™‘åˆ°æœ‰å¤§é‡çš„å¯¹è±¡éœ€è¦åœ¨æ¯å¸§éƒ½æ‰§è¡Œä¸€äº›æ“ä½œæ—¶ï¼Œå¯ä»¥å‚è€ƒä½¿ç”¨å¦‚åŸæ–‡æµ‹è¯•ä¾‹å­çš„ <code>Manager</code> æ¨¡å¼ï¼Œé‡‡ç”¨æ•°ç»„ç»“æ„å¾ªç¯è¿­ä»£è°ƒç”¨å¯¹è±¡çš„æ›´æ–°æ“ä½œï¼Œå‡å°‘è€—æ—¶</p>
</li>
<li><p><code>MicroCoroutine</code> å°±æ˜¯åŸºäºæ­¤æ€æƒ³ï¼Œå¯¹ä¸€èˆ¬çš„ <code>Coroutine</code> å‡½æ•°ä»¥æ•°ç»„ç»“æ„è¿›è¡Œç»„ç»‡ï¼Œæ¥å®ç°å†…å­˜é«˜æ•ˆã€å¿«é€Ÿçš„åç¨‹è°ƒç”¨ï¼Œä½†åŒæ—¶ä¹Ÿæœ‰ä¸€å®šçš„é™åˆ¶ï¼ˆè§ä¸Šæ–‡ï¼‰</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/09/24/unirx-operators/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/24/unirx-operators/" class="post-title-link" itemprop="url">UniRx å­¦ä¹ â€”â€”æ“ä½œç¬¦</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-24 13:57:33" itemprop="dateCreated datePublished" datetime="2018-09-24T13:57:33+08:00">2018-09-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-01-06 15:23:39" itemprop="dateModified" datetime="2019-01-06T15:23:39+08:00">2019-01-06</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://mcxiaoke.gitbooks.io/rxdocs/content/Operators.html" target="_blank" rel="noopener">Rx ä¸­æ–‡æ–‡æ¡£</a></li>
<li><a href="https://kuailey.github.io/DungeonsGame/2016/11/06/UniRx-%E5%AD%A6%E4%B9%A0/" target="_blank" rel="noopener">UniRx å­¦ä¹ </a></li>
</ul>
<p>PSï¼šæœ¬æ–‡ä¸ä¼šå°†æ‰€æœ‰çš„ Rx æ“ä½œç¬¦éƒ½åšè¯¦ç»†è¯´æ˜ï¼Œé‡ç‚¹åœ¨äºæ€»ç»“ <code>UniRx</code> ä¸ <code>Rx æ–‡æ¡£</code> ä¸­çš„ä¸åŒä¹‹å¤„</p>
<h2 id="åˆ›å»ºæ“ä½œ"><a href="#åˆ›å»ºæ“ä½œ" class="headerlink" title="åˆ›å»ºæ“ä½œ"></a>åˆ›å»ºæ“ä½œ</h2><h3 id="Return-Empty-Never-Throw"><a href="#Return-Empty-Never-Throw" class="headerlink" title="Return / Empty / Never / Throw"></a>Return / Empty / Never / Throw</h3><ul>
<li><p><code>Return</code>ï¼šåˆ›å»ºä¸€ä¸ªå‘å°„æŒ‡å®šå€¼çš„ <code>Observable</code>ï¼Œå¯¹åº” <code>Rx æ–‡æ¡£</code> çš„ <code>Just</code></p>
<ul>
<li><code>ReturnUnit</code> ç›¸å½“äº <code>Observable.Return(Unit.Default)</code></li>
</ul>
</li>
<li><p><code>Empty</code>ï¼šåˆ›å»ºä¸€ä¸ªä¸å‘å°„ä»»ä½•æ•°æ®ä½†æ˜¯æ­£å¸¸ç»ˆæ­¢çš„ <code>Observable</code></p>
</li>
<li><p><code>Never</code>ï¼šåˆ›å»ºä¸€ä¸ªä¸å‘å°„æ•°æ®ä¹Ÿä¸ç»ˆæ­¢çš„ <code>Observable</code></p>
</li>
<li><p><code>Throw</code>ï¼šåˆ›å»ºä¸€ä¸ªä¸å‘å°„æ•°æ®ä»¥ä¸€ä¸ªé”™è¯¯ç»ˆæ­¢çš„ <code>Observable</code></p>
</li>
</ul>
<h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h3><p>ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ª <code>Observavle</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Observable.Create&lt;int&gt;(observer =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            observer.OnNext(1);</span><br><span class="line">            observer.OnNext(2);</span><br><span class="line">            observer.OnNext(3);</span><br><span class="line">            </span><br><span class="line">            observer.OnCompleted();</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            observer.OnError(e);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // Return disposable handler</span><br><span class="line">        return Disposable.Empty;</span><br><span class="line">    &#125;)</span><br><span class="line">    .Subscribe(x =&gt; Debug.Log(&quot;x = &quot; + x));</span><br></pre></td></tr></table></figure>
<p>éœ€è¦è¿”å› <code>Disposable</code> å¯¹è±¡ï¼š</p>
<p><img src="http://pf7j6kfg3.bkt.clouddn.com/UniRx-Create-0.png" alt=""></p>
<ul>
<li><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥è¿”å›  <code>Disposable.Empty</code> æˆ–è€… <code>null</code>(å†…éƒ¨è‡ªåŠ¨ä½¿ç”¨<code>Disposable.Empty</code>) </p>
</li>
<li><p>å¦‚æœéœ€è¦ç›‘å¬ <code>disposed()</code>ï¼Œå¯ä»¥è¿”å› <code>Disposable.Create(()=&gt;{})</code></p>
</li>
<li><p>å¦‚æœéœ€è¦ç›‘å¬ <code>disposed()</code>ï¼Œè€Œä¸”é—­åŒ…éœ€è¦è®¿é—®å¤–éƒ¨å˜é‡ï¼Œä¸ºäº†é¿å… <a href="https://github.com/neuecc/UniRx/issues/129">closure capture(generated class)</a>ï¼Œå¯ä»¥é€‰æ‹©è¿”å› <code>Disposable.CreateWithState(state,_=&gt;{})</code></p>
</li>
</ul>
<h4 id="CreateWithState"><a href="#CreateWithState" class="headerlink" title="CreateWithState"></a>CreateWithState</h4><p>ç”¨äºé¿å…é—­åŒ…æ•è·å¤–éƒ¨å˜é‡</p>
<h4 id="CreateSafe"><a href="#CreateSafe" class="headerlink" title="CreateSafe"></a>CreateSafe</h4><p><code>Safe</code> è¡¨ç¤ºå½“ <code>onNext</code> å‡ºç°å¼‚å¸¸æ—¶ï¼Œè‡ªåŠ¨æ³¨é”€è®¢é˜…</p>
<h3 id="Defer"><a href="#Defer" class="headerlink" title="Defer"></a>Defer</h3><p>ç›´åˆ°æœ‰è§‚å¯Ÿè€…è®¢é˜…æ—¶æ‰åˆ›å»º <code>Observable</code>ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªè§‚å¯Ÿè€…åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Observable</code></p>
<p>ä½¿ç”¨ <code>Create</code> VS <code>Defer</code>çš„ç®€å•ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">private IObservable&lt;int&gt; subscribeValueByCreate()</span><br><span class="line">&#123;</span><br><span class="line">    return Observable.Create&lt;int&gt;(o =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        // å¯èƒ½çš„è€—æ—¶æ“ä½œ </span><br><span class="line">        _value = 1;</span><br><span class="line">        o.OnNext(_value);</span><br><span class="line">        o.OnCompleted();</span><br><span class="line">        return Disposable.Empty;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private IObservable&lt;int&gt; subscribeValueByDefer()</span><br><span class="line">&#123;</span><br><span class="line">    return Observable.Defer(() =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        // å¯èƒ½çš„è€—æ—¶æ“ä½œ </span><br><span class="line">        _value = 2;</span><br><span class="line">        return Observable.Return(_value);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯¦ç»†åˆ†æå¯å‚è€ƒï¼š<a href="https://www.jianshu.com/p/c83996149f5b" target="_blank" rel="noopener">ã€è¯‘ã€‘ä½¿ç”¨RxJavaå®ç°å»¶è¿Ÿè®¢é˜…</a></p>
<h3 id="From"><a href="#From" class="headerlink" title="From"></a>From</h3><p>å°†å…¶å®ƒç§ç±»çš„å¯¹è±¡å’Œæ•°æ®ç±»å‹è½¬æ¢ä¸º <code>Observable</code></p>
<p><img src="http://pf7j6kfg3.bkt.clouddn.com/UniRx-Operator-From-0.png" alt=""></p>
<h4 id="FromCoroutine-â€”â€”-ä»åç¨‹åˆ›å»º-Observable"><a href="#FromCoroutine-â€”â€”-ä»åç¨‹åˆ›å»º-Observable" class="headerlink" title="FromCoroutine â€”â€” ä»åç¨‹åˆ›å»º Observable"></a><code>FromCoroutine</code> â€”â€” ä»åç¨‹åˆ›å»º <code>Observable</code></h4><p><img src="http://pf7j6kfg3.bkt.clouddn.com/UniRx-Operator-From-1.png" alt=""></p>
<ul>
<li><p>å†…éƒ¨ <code>onNext()</code> åªå‘å°„ <code>Unit.Default</code>ï¼Œä¸ <code>yield return</code> è¿”å›çš„å€¼å’Œç±»å‹éƒ½æ— å…³ï¼Œé»˜è®¤åœ¨åç¨‹å®Œæˆæ—¶è§¦å‘ä¸€æ¬¡ï¼Œå¯ä¼ å‚è®¾ç½®æ¯æ¬¡è°ƒç”¨ <code>yield return</code> ä¹Ÿéƒ½è§¦å‘</p>
</li>
<li><p>æ”¯æŒå–æ¶ˆæ“ä½œï¼ˆå‘åç¨‹ä¼ é€’ <code>CancellationToken</code> å¯¹è±¡ï¼‰</p>
</li>
<li><p>æ”¯æŒå‘åç¨‹ä¼ é€’ <code>IObserver</code> å¯¹è±¡ </p>
</li>
</ul>
<h4 id="FromCoroutineVlaue-â€”â€”-ä»åç¨‹åˆ›å»º-Observableï¼Œå¹¶å‘å°„è¿”å›å€¼"><a href="#FromCoroutineVlaue-â€”â€”-ä»åç¨‹åˆ›å»º-Observableï¼Œå¹¶å‘å°„è¿”å›å€¼" class="headerlink" title="FromCoroutineVlaue â€”â€” ä»åç¨‹åˆ›å»º Observableï¼Œå¹¶å‘å°„è¿”å›å€¼"></a><code>FromCoroutineVlaue</code> â€”â€” ä»åç¨‹åˆ›å»º <code>Observable</code>ï¼Œå¹¶å‘å°„è¿”å›å€¼</h4><p><img src="http://pf7j6kfg3.bkt.clouddn.com/UniRx-Operator-From-2.png" alt=""></p>
<ul>
<li><p>å†…éƒ¨ <code>onNext()</code> å‘å°„ <code>yield return xxx</code> è¿”å›çš„å€¼ï¼ˆæ³¨æ„ï¼šå½“è°ƒç”¨<code>yield return null</code> æ—¶ï¼Œä¸ä¼šè°ƒç”¨ <code>onNext()</code>???ï¼‰</p>
</li>
<li><p>æ”¯æŒå–æ¶ˆæ“ä½œï¼ˆå‘åç¨‹ä¼ é€’ <code>CancellationToken</code> å¯¹è±¡ï¼‰</p>
</li>
</ul>
<h4 id="FromMicroCoroutine-â€”â€”-ä»å¾®åç¨‹åˆ›å»º-Observable"><a href="#FromMicroCoroutine-â€”â€”-ä»å¾®åç¨‹åˆ›å»º-Observable" class="headerlink" title="FromMicroCoroutine â€”â€” ä»å¾®åç¨‹åˆ›å»º Observable"></a><code>FromMicroCoroutine</code> â€”â€” ä»å¾®åç¨‹åˆ›å»º <code>Observable</code></h4><p>è¡¥å……ï¼š<a href="https://piaoniao.github.io/2018/09/25/unirx-micro-coroutine/" target="_blank" rel="noopener">å¯¹ MicroCoroutine çš„ç†è§£</a></p>
<p><img src="http://pf7j6kfg3.bkt.clouddn.com/UniRx-Operator-From-3.png" alt=""></p>
<ul>
<li><p>å¾®åç¨‹åªæ”¯æŒ <code>yield return null</code></p>
</li>
<li><p>å¾®åç¨‹æ”¯æŒå¸§æ•°ç±»å‹ï¼š<code>Update</code>ã€<code>FixedUpdate</code> å’Œ <code>EndOfFrame</code></p>
</li>
<li><p>å†…éƒ¨ <code>onNext()</code> åªå‘å°„ <code>Unit.Default</code>ï¼Œé»˜è®¤åœ¨å¾®åç¨‹å®Œæˆæ—¶è§¦å‘ä¸€æ¬¡ï¼Œå¯ä¼ å‚è®¾ç½®æ¯æ¬¡è°ƒç”¨ <code>yield return null</code> ä¹Ÿéƒ½è§¦å‘</p>
</li>
<li><p>æ”¯æŒå–æ¶ˆæ“ä½œï¼ˆå‘å¾®åç¨‹ä¼ é€’ <code>CancellationToken</code> å¯¹è±¡ï¼‰</p>
</li>
<li><p>æ”¯æŒå‘å¾®åç¨‹ä¼ é€’ <code>IObserver</code> å¯¹è±¡ </p>
</li>
</ul>
<h4 id="FromAsyncPattern-â€”â€”-ä»å¼‚æ­¥æ¨¡å¼åˆ›å»º-Observable"><a href="#FromAsyncPattern-â€”â€”-ä»å¼‚æ­¥æ¨¡å¼åˆ›å»º-Observable" class="headerlink" title="FromAsyncPattern â€”â€” ä»å¼‚æ­¥æ¨¡å¼åˆ›å»º Observable"></a><code>FromAsyncPattern</code> â€”â€” ä»å¼‚æ­¥æ¨¡å¼åˆ›å»º <code>Observable</code></h4><p>å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼ˆAPMï¼ŒAsynchronous Programming Modelï¼‰ä¸æ¨èä½¿ç”¨???</p>
<h4 id="FromEvent-â€”â€”-ä»äº‹ä»¶åˆ›å»º-Observable"><a href="#FromEvent-â€”â€”-ä»äº‹ä»¶åˆ›å»º-Observable" class="headerlink" title="FromEvent â€”â€” ä»äº‹ä»¶åˆ›å»º Observable"></a><code>FromEvent</code> â€”â€” ä»äº‹ä»¶åˆ›å»º <code>Observable</code></h4><p>åŸºäºäº‹ä»¶çš„å¼‚æ­¥æ¨¡å¼ (EAPï¼ŒEvent-based Asynchronous Pattern) ä¸æ¨èä½¿ç”¨???</p>
<h4 id="FromEventPattern-â€”â€”-ä»äº‹ä»¶æ¨¡å¼åˆ›å»º-Observable"><a href="#FromEventPattern-â€”â€”-ä»äº‹ä»¶æ¨¡å¼åˆ›å»º-Observable" class="headerlink" title="FromEventPattern â€”â€” ä»äº‹ä»¶æ¨¡å¼åˆ›å»º Observable"></a><code>FromEventPattern</code> â€”â€” ä»äº‹ä»¶æ¨¡å¼åˆ›å»º <code>Observable</code></h4><p>åŸºäºäº‹ä»¶çš„å¼‚æ­¥æ¨¡å¼ (EAPï¼ŒEvent-based Asynchronous Pattern) ä¸æ¨èä½¿ç”¨???</p>
<h3 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h3><p>ä»å§”æ‰˜åˆ›å»º <code>Observable</code></p>
<ul>
<li><p>æ”¯æŒçš„å§”æ‰˜å‡½æ•°ï¼š <code>Func&lt;T&gt;</code> æˆ–è€… <code>Action</code></p>
</li>
<li><p>æ”¯æŒå»¶æ—¶</p>
</li>
<li><p>æ³¨æ„ï¼š<code>Start</code> é»˜è®¤åœ¨å¼‚æ­¥çº¿ç¨‹æ‰§è¡Œ</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.Start(() =&gt; &#123; Debug.Log(&quot;Start&quot;); &#125;);</span><br><span class="line">    Observable.Start(() =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(&quot;Start&quot;);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Interval"><a href="#Interval" class="headerlink" title="Interval"></a>Interval</h3><p>åˆ›å»ºä¸€ä¸ªæŒ‰å›ºå®šæ—¶é—´é—´éš”å‘å°„æ•´æ•°åºåˆ—çš„ <code>Observable</code></p>
<h4 id="IntervalFrame"><a href="#IntervalFrame" class="headerlink" title="IntervalFrame"></a>IntervalFrame</h4><p>åˆ›å»ºä¸€ä¸ªæŒ‰å›ºå®šå¸§æ•°é—´éš”å‘å°„æ•´æ•°åºåˆ—çš„ <code>Observable</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.Interval(TimeSpan.FromSeconds(1)).Subscribe(_ =&gt; &#123; &#125;);</span><br><span class="line">    Observable.IntervalFrame(16, FrameCountType.FixedUpdate).Subscribe(_ =&gt; &#123; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Timer"><a href="#Timer" class="headerlink" title="Timer"></a>Timer</h3><p>åˆ›å»ºä¸€ä¸ª <code>Observable</code>ï¼Œå®ƒåœ¨ä¸€ä¸ªç»™å®šçš„å»¶è¿Ÿåå‘å°„ä¸€ä¸ªç‰¹æ®Šçš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.Timer(TimeSpan.FromSeconds(1)).Subscribe(l =&gt; Debug.Log(&quot; l = &quot; + l));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h3><p>åˆ›å»ºä¸€ä¸ªå‘å°„ç‰¹å®šæ•´æ•°åºåˆ—çš„ <code>Observable</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.Range(1, 100).Subscribe(x =&gt; &#123; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Repeat"><a href="#Repeat" class="headerlink" title="Repeat"></a>Repeat</h3><p>åˆ›å»ºä¸€ä¸ªå‘å°„ç‰¹å®šæ•°æ®é‡å¤å¤šæ¬¡çš„ <code>Observable</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Start()</span><br><span class="line">&#123;</span><br><span class="line">    Observable.Repeat(&quot;hello&quot;, 3).Subscribe(s =&gt; &#123; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="RepeatInfinite"><a href="#RepeatInfinite" class="headerlink" title="RepeatInfinite"></a>RepeatInfinite</h4><p>æ— é™é‡å¤</p>
<h4 id="RepeatSafe"><a href="#RepeatSafe" class="headerlink" title="RepeatSafe"></a>RepeatSafe</h4><p>ä¸ <code>Repeat</code> ç›¸åŒï¼Œä½†è‹¥è¿ç»­å‡ºç° <code>onComplete()</code> æ—¶ï¼Œé‡å¤åœæ­¢</p>
<h2 id="å˜æ¢æ“ä½œ"><a href="#å˜æ¢æ“ä½œ" class="headerlink" title="å˜æ¢æ“ä½œ"></a>å˜æ¢æ“ä½œ</h2><h3 id="Selectï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-Mapï¼‰"><a href="#Selectï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-Mapï¼‰" class="headerlink" title="Selectï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ Mapï¼‰"></a>Selectï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ Mapï¼‰</h3><p>å¯¹ <code>Observable</code> å‘å°„çš„æ¯ä¸€é¡¹æ•°æ®åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œå˜æ¢æ“ä½œ</p>
<p>å˜æ¢å‡½æ•°æ”¯æŒè¾“å‡ºæ•°æ®åºå·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Observable.Range(1, 3)</span><br><span class="line">    .Select((x, i) =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(&quot;i = &quot; + i);// åºå·</span><br><span class="line">        return x * i;</span><br><span class="line">    &#125;)</span><br><span class="line">    .Subscribe(x =&gt; Debug.Log(&quot;x = &quot; + x));</span><br></pre></td></tr></table></figure>
<h3 id="SelectManyï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-FlatMapï¼‰"><a href="#SelectManyï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-FlatMapï¼‰" class="headerlink" title="SelectManyï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ FlatMapï¼‰"></a>SelectManyï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ FlatMapï¼‰</h3><p>å°†ä¸€ä¸ªå‘å°„æ•°æ®çš„ <code>Observable</code> å˜æ¢ä¸ºå¤šä¸ª <code>Observables</code>ï¼Œç„¶åå°†å®ƒä»¬å‘å°„çš„æ•°æ®åˆå¹¶åæ”¾è¿›ä¸€ä¸ªå•ç‹¬çš„ <code>Observable</code></p>
<p>æ³¨æ„ï¼š<code>SelectMany</code> å¯¹è¿™äº› <code>Observables</code> å‘å°„çš„æ•°æ®åšçš„æ˜¯åˆå¹¶(merge)æ“ä½œï¼Œå› æ­¤å®ƒä»¬å¯èƒ½æ˜¯äº¤é”™çš„</p>
<h3 id="ContinueWith"><a href="#ContinueWith" class="headerlink" title="ContinueWith"></a>ContinueWith</h3><p>å°†åŸ <code>Observable</code> å‘å°„çš„æœ€åä¸€ä¸ªå€¼å˜æ¢ä¸ºä¸€ä¸ªæ–°çš„ <code>Observable</code>ï¼Œå¹¶å‘å°„æ–° <code>Observable</code> çš„æ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Observable.Range(0, 10)</span><br><span class="line">    .ContinueWith(i =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(&quot;i = &quot; + i);</span><br><span class="line">        return Observable.Range(i, 3);</span><br><span class="line">    &#125;)</span><br><span class="line">    .Subscribe(x =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(&quot;x = &quot; + x);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">// è¾“å‡ºï¼š</span><br><span class="line">// i = 9</span><br><span class="line">// x = 9ï¼Œx = 10ï¼Œx = 11</span><br></pre></td></tr></table></figure>
<h3 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h3><p>å®šæœŸæ”¶é›† <code>Observable</code> çš„æ•°æ®æ”¾è¿›ä¸€ä¸ªæ•°æ®åŒ…è£¹ï¼Œç„¶åå‘å°„è¿™äº›æ•°æ®åŒ…è£¹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡å‘å°„ä¸€ä¸ªå€¼</p>
<h3 id="Pairwise"><a href="#Pairwise" class="headerlink" title="Pairwise"></a>Pairwise</h3><p>å°†åŸ <code>Observable</code> å‘å°„çš„ç›¸é‚»çš„æ•°æ®æ‰“åŒ…æˆä¸€ä¸ª <code>Pair</code> æ•°æ®å‘å°„ï¼ˆåªæœ‰ 1 ä¸ªæ•°æ®æ—¶ï¼Œä¸å‘å°„æ–°æ•°æ®ï¼‰</p>
<h3 id="GroupBy"><a href="#GroupBy" class="headerlink" title="GroupBy"></a>GroupBy</h3><p>å°†ä¸€ä¸ª <code>Observable</code> åˆ†æ‹†ä¸ºä¸€äº› <code>Observables</code> é›†åˆï¼Œå®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªå‘å°„åŸå§‹<code>Observable</code> çš„ä¸€ä¸ªå­åºåˆ—</p>
<h3 id="Cast"><a href="#Cast" class="headerlink" title="Cast"></a>Cast</h3><p>å°†åŸå§‹ <code>Observable</code> å‘å°„çš„æ¯ä¸€é¡¹æ•°æ®éƒ½å¼ºåˆ¶è½¬æ¢ä¸ºä¸€ä¸ªæŒ‡å®šçš„ç±»å‹ï¼Œç„¶åå†å‘å°„æ•°æ®</p>
<p>PSï¼š<code>Cast</code> å†…éƒ¨ä½¿ç”¨å¼ºè½¬ï¼Œå¤±è´¥ä¼šæŠ¥å¼‚å¸¸</p>
<h3 id="Scan"><a href="#Scan" class="headerlink" title="Scan"></a>Scan</h3><p>æ‰«æï¼šè¿ç»­åœ°å¯¹æ•°æ®åºåˆ—çš„æ¯ä¸€é¡¹åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åè¿ç»­å‘å°„ç»“æœ</p>
<h3 id="Aggregate"><a href="#Aggregate" class="headerlink" title="Aggregate"></a>Aggregate</h3><p>èšåˆï¼šè¿ç»­åœ°å¯¹æ•°æ®åºåˆ—çš„æ¯ä¸€é¡¹åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œç„¶ååªå‘å°„ç»“æœ</p>
<h2 id="è¿‡æ»¤æ“ä½œ"><a href="#è¿‡æ»¤æ“ä½œ" class="headerlink" title="è¿‡æ»¤æ“ä½œ"></a>è¿‡æ»¤æ“ä½œ</h2><h3 id="Throttleï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-Debounceï¼‰"><a href="#Throttleï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-Debounceï¼‰" class="headerlink" title="Throttleï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ Debounceï¼‰"></a>Throttleï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ Debounceï¼‰</h3><p>ä»…åœ¨è¿‡äº†ä¸€æ®µæŒ‡å®šçš„æ—¶é—´è¿˜æ²¡å‘å°„æ•°æ®æ—¶æ‰å‘å°„ä¸€ä¸ªæ•°æ®</p>
<h4 id="ThrottleFirst"><a href="#ThrottleFirst" class="headerlink" title="ThrottleFirst"></a>ThrottleFirst</h4><p>å®šæœŸå‘å°„è¿™ä¸ªæ—¶é—´æ®µé‡Œæº <code>Observable</code> å‘å°„çš„ç¬¬ä¸€ä¸ªæ•°æ®</p>
<h4 id="ThrottleFrame"><a href="#ThrottleFrame" class="headerlink" title="ThrottleFrame"></a>ThrottleFrame</h4><p>ä»…åœ¨è¿‡äº†ä¸€æ®µæŒ‡å®šçš„å¸§æ•°è¿˜æ²¡å‘å°„æ•°æ®æ—¶æ‰å‘å°„ä¸€ä¸ªæ•°æ®ï¼Œå¯ä»¥æŒ‡å®šå¸§æ•°ç±»å‹</p>
<h4 id="ThrottleFirstFrame"><a href="#ThrottleFirstFrame" class="headerlink" title="ThrottleFirstFrame"></a>ThrottleFirstFrame</h4><p>å®šæœŸå‘å°„æŒ‡å®šçš„å¸§æ•°æ—¶é—´æ®µé‡Œæº <code>Observable</code> å‘å°„çš„ç¬¬ä¸€å¸§</p>
<h3 id="Distinct"><a href="#Distinct" class="headerlink" title="Distinct"></a>Distinct</h3><p>æŠ‘åˆ¶ï¼ˆè¿‡æ»¤æ‰ï¼‰é‡å¤çš„æ•°æ®é¡¹</p>
<h4 id="DistinctUntilChanged"><a href="#DistinctUntilChanged" class="headerlink" title="DistinctUntilChanged"></a>DistinctUntilChanged</h4><p>æŠ‘åˆ¶ï¼ˆè¿‡æ»¤æ‰ï¼‰ä¸ç›´æ¥å‰é©±æ•°æ®ç›¸åŒçš„æ•°æ®é¡¹</p>
<h3 id="Whereï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-Filterï¼‰"><a href="#Whereï¼ˆå¯¹åº”-Rx-æ–‡æ¡£çš„-Filterï¼‰" class="headerlink" title="Whereï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ Filterï¼‰"></a>Whereï¼ˆå¯¹åº” Rx æ–‡æ¡£çš„ Filterï¼‰</h3><p>åªå‘å°„é€šè¿‡äº†è°“è¯æµ‹è¯•çš„æ•°æ®é¡¹</p>
<p>è°“è¯å‡½æ•°æ”¯æŒè¾“å‡ºæ•°æ®åºå·</p>
<h4 id="OfType"><a href="#OfType" class="headerlink" title="OfType"></a>OfType</h4><p>ä½œç”¨ä¸ <code>Cast</code> ç›¸ä¼¼ï¼Œä½†å†…éƒ¨åœ¨å¼ºè½¬å‰ä¼šç”¨ <code>is</code> å…ˆåˆ¤æ–­ç±»å‹ï¼Œä¼šå¿½ç•¥ä¸èƒ½è½¬æ¢ç±»å‹çš„æ•°æ®</p>
<h3 id="First"><a href="#First" class="headerlink" title="First"></a>First</h3><p>åªå‘å°„ç¬¬ä¸€é¡¹ï¼ˆæˆ–è€…æ»¡è¶³æŸä¸ªæ¡ä»¶çš„ç¬¬ä¸€é¡¹ï¼‰æ•°æ®</p>
<h4 id="FirstOrDefault"><a href="#FirstOrDefault" class="headerlink" title="FirstOrDefault"></a>FirstOrDefault</h4><p>åªå‘å°„ç¬¬ä¸€é¡¹æ•°æ®ï¼Œæ²¡æœ‰åˆ™å‘å°„ <code>null</code></p>
<h4 id="Single"><a href="#Single" class="headerlink" title="Single"></a>Single</h4><p>å¦‚æœåŸå§‹ <code>Observable</code> å‘å°„è¶…è¿‡ä¸€ä¸ªçš„æ•°æ®ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸</p>
<h4 id="SingleOrDefault"><a href="#SingleOrDefault" class="headerlink" title="SingleOrDefault"></a>SingleOrDefault</h4><p>å¦‚æœåŸå§‹ <code>Observable</code> å‘å°„è¶…è¿‡ä¸€ä¸ªçš„æ•°æ®ï¼Œä¼šå‘å°„é”™è¯¯é€šçŸ¥</p>
<h3 id="IgnoreElements"><a href="#IgnoreElements" class="headerlink" title="IgnoreElements"></a>IgnoreElements</h3><p>ä¸å‘å°„ä»»ä½•æ•°æ®ï¼Œåªå‘å°„ <code>Observable</code> çš„ç»ˆæ­¢ï¼ˆæˆ–é”™è¯¯ï¼‰é€šçŸ¥</p>
<h3 id="Last"><a href="#Last" class="headerlink" title="Last"></a>Last</h3><p>åªå‘å°„æœ€åä¸€é¡¹ï¼ˆæˆ–è€…æ»¡è¶³æŸä¸ªæ¡ä»¶çš„æœ€åä¸€é¡¹ï¼‰æ•°æ®</p>
<h4 id="LastOfDefault"><a href="#LastOfDefault" class="headerlink" title="LastOfDefault"></a>LastOfDefault</h4><p>åªå‘å°„æœ€åä¸€é¡¹ï¼ˆæˆ–è€…æ»¡è¶³æŸä¸ªæ¡ä»¶çš„æœ€åä¸€é¡¹ï¼‰æ•°æ®ï¼Œæ²¡æœ‰åˆ™å‘å°„ <code>null</code></p>
<h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h3><p>é‡‡æ ·ï¼šå®šæœŸå‘å°„ <code>Observable</code> æœ€è¿‘å‘å°„çš„æ•°æ®é¡¹</p>
<h4 id="SampleFrame"><a href="#SampleFrame" class="headerlink" title="SampleFrame"></a>SampleFrame</h4><p>å¸§é‡‡æ ·</p>
<h3 id="Skip"><a href="#Skip" class="headerlink" title="Skip"></a>Skip</h3><p>æŠ‘åˆ¶ <code>Observable</code> å‘å°„çš„å‰ N é¡¹æ•°æ®</p>
<h4 id="SkipUntil"><a href="#SkipUntil" class="headerlink" title="SkipUntil"></a>SkipUntil</h4><p>è·³è¿‡æº <code>Observable</code> å‘å‡ºçš„å€¼ï¼Œç›´åˆ°æä¾›çš„ <code>Observable</code> å‘å‡ºå€¼</p>
<h4 id="SkipWhile"><a href="#SkipWhile" class="headerlink" title="SkipWhile"></a>SkipWhile</h4><p>è·³è¿‡æº <code>Observable</code> å‘å‡ºçš„å€¼ï¼Œç›´åˆ°æä¾›çš„è¡¨è¾¾å¼ç»“æœä¸º <code>false</code></p>
<h3 id="Take"><a href="#Take" class="headerlink" title="Take"></a>Take</h3><p>åªå‘å°„å‰é¢çš„ N é¡¹æ•°æ®</p>
<h4 id="TakeLast"><a href="#TakeLast" class="headerlink" title="TakeLast"></a>TakeLast</h4><p>åªå‘å°„åé¢ N é¡¹æ•°æ®</p>
<h4 id="TakeUntil"><a href="#TakeUntil" class="headerlink" title="TakeUntil"></a>TakeUntil</h4><p>å‘å°„å‰é¢çš„ N é¡¹æ•°æ®ï¼Œç›´åˆ°æä¾›çš„ <code>Observable</code> å‘å‡ºå€¼</p>
<h4 id="TakeWhile"><a href="#TakeWhile" class="headerlink" title="TakeWhile"></a>TakeWhile</h4><p>å‘å°„å‰é¢çš„ N é¡¹æ•°æ®ï¼Œç›´åˆ°æä¾›çš„è¡¨è¾¾å¼ç»“æœä¸º <code>false</code></p>
<h4 id="TakeUntilDestroy"><a href="#TakeUntilDestroy" class="headerlink" title="TakeUntilDestroy"></a>TakeUntilDestroy</h4><p>å‘å°„å‰é¢çš„ N é¡¹æ•°æ®ï¼Œç›´åˆ° <code>Unity</code> ç»„ä»¶è¢«ç ´ç¯</p>
<h4 id="TakeUntilDisable"><a href="#TakeUntilDisable" class="headerlink" title="TakeUntilDisable"></a>TakeUntilDisable</h4><p>å‘å°„å‰é¢çš„ N é¡¹æ•°æ®ï¼Œç›´åˆ° <code>Unity</code> ç»„ä»¶è¢«ç¦ç”¨</p>
<h2 id="ç»“åˆæ“ä½œ"><a href="#ç»“åˆæ“ä½œ" class="headerlink" title="ç»“åˆæ“ä½œ"></a>ç»“åˆæ“ä½œ</h2><h3 id="CombineLatest"><a href="#CombineLatest" class="headerlink" title="CombineLatest"></a>CombineLatest</h3><p>å½“ä¸¤ä¸ª <code>Observables</code> ä¸­çš„ä»»ä½•ä¸€ä¸ªå‘å°„äº†æ•°æ®æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°ç»“åˆæ¯ä¸ª <code>Observable</code> å‘å°„çš„æœ€è¿‘æ•°æ®é¡¹ï¼Œå¹¶ä¸”åŸºäºè¿™ä¸ªå‡½æ•°çš„ç»“æœå‘å°„æ•°æ®</p>
<h3 id="WithLatestFrom"><a href="#WithLatestFrom" class="headerlink" title="WithLatestFrom"></a>WithLatestFrom</h3><p>ç±»ä¼¼äº <code>CombineLatest</code>ï¼Œä½†æ˜¯åªåœ¨å•ä¸ªåŸå§‹ Observable å‘å°„äº†ä¸€æ¡æ•°æ®æ—¶æ‰å‘å°„æ•°æ®</p>
<h3 id="WhenAll"><a href="#WhenAll" class="headerlink" title="WhenAll"></a>WhenAll</h3><p>// Observable.WhenAll is for parallel asynchronous operation</p>
<p>// (Itâ€™s like Observable.Zip but specialized for single async operations like Task.WhenAll)</p>
<p>åªä¼šå°†å¤šä¸ªæº <code>Observable</code> æœ€åå‘å°„çš„æ•°æ®ç»„åˆæˆæ–°æ•°æ®å¹¶å‘å°„</p>
<h3 id="Merge"><a href="#Merge" class="headerlink" title="Merge"></a>Merge</h3><p>åˆå¹¶å¤šä¸ª <code>Observables</code> çš„å‘å°„ç‰©</p>
<p>ä½¿ç”¨ <code>Merge</code> æ“ä½œç¬¦ä½ å¯ä»¥å°†å¤šä¸ª <code>Observables</code> çš„è¾“å‡ºåˆå¹¶ï¼Œå°±å¥½åƒå®ƒä»¬æ˜¯ä¸€ä¸ªå•ä¸ªçš„ <code>Observable</code> ä¸€æ ·</p>
<p><code>Merge</code> å¯èƒ½ä¼šè®©åˆå¹¶çš„ <code>Observables</code> å‘å°„çš„æ•°æ®äº¤é”™ï¼ˆæœ‰ä¸€ä¸ªç±»ä¼¼çš„æ“ä½œç¬¦ <code>Concat</code> ä¸ä¼šè®©æ•°æ®äº¤é”™ï¼Œå®ƒä¼šæŒ‰é¡ºåºä¸€ä¸ªæ¥ç€ä¸€ä¸ªå‘å°„å¤šä¸ª Observables çš„å‘å°„ç‰©ï¼‰</p>
<h3 id="Concat"><a href="#Concat" class="headerlink" title="Concat"></a>Concat</h3><p>ç±»ä¼¼ <code>Merge</code>ï¼Œä½†ç»„åˆçš„æ•°æ®ä¸ä¼šå‘ç”Ÿäº¤é”™</p>
<h3 id="StartWith"><a href="#StartWith" class="headerlink" title="StartWith"></a>StartWith</h3><p>åœ¨æ•°æ®åºåˆ—çš„å¼€å¤´æ’å…¥ä¸€æ¡æŒ‡å®šçš„é¡¹</p>
<h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><p>å°†ä¸€ä¸ªå‘å°„å¤šä¸ª <code>Observables</code> çš„ <code>Observable</code> è½¬æ¢æˆå¦ä¸€ä¸ªå•ç‹¬çš„ <code>Observable</code>ï¼Œåè€…å‘å°„é‚£äº› <code>Observables</code> æœ€è¿‘å‘å°„çš„æ•°æ®é¡¹</p>
<p>æ³¨æ„ï¼šå½“åŸå§‹ <code>Observable</code> å‘å°„äº†ä¸€ä¸ªæ–°çš„ <code>Observable</code> æ—¶ï¼ˆä¸æ˜¯è¿™ä¸ªæ–°çš„<code>Observable</code> å‘å°„äº†ä¸€æ¡æ•°æ®æ—¶ï¼‰ï¼Œå®ƒå°†å–æ¶ˆè®¢é˜…ä¹‹å‰çš„é‚£ä¸ª <code>Observable</code>ã€‚ï¼ˆç®€å•ç†è§£ï¼šåˆ‡æ¢ä¸€ä¸ªå‘æ•°æ®çš„ <code>Observable</code>ï¼‰</p>
<h3 id="Zip"><a href="#Zip" class="headerlink" title="Zip"></a>Zip</h3><p>é€šè¿‡ä¸€ä¸ªå‡½æ•°å°†å¤šä¸ª Observables çš„å‘å°„ç‰©ç»“åˆåˆ°ä¸€èµ·ï¼ŒåŸºäºè¿™ä¸ªå‡½æ•°çš„ç»“æœä¸ºæ¯ä¸ªç»“åˆä½“å‘å°„å•ä¸ªæ•°æ®é¡¹</p>
<p>åªå‘å°„ä¸å‘å°„æ•°æ®é¡¹æœ€å°‘çš„é‚£ä¸ª Observable ä¸€æ ·å¤šçš„æ•°æ®</p>
<h4 id="ZipLatest"><a href="#ZipLatest" class="headerlink" title="ZipLatest"></a>ZipLatest</h4><p>ç±»ä¼¼ <code>Zip</code>ï¼Œä¸åŒçš„æ˜¯ï¼š<code>ZipLatest</code> ä¼šå°†å¤šä¸ªæº Observables æœ€æ–°å‘å°„çš„é‚£ä¸ªå€¼<br>ç»“åˆï¼Œè¿™æ„å‘³ç€å¦‚æœæŸä¸ªæº <code>Observable</code> æ­¤æ—¶å·²å‘å°„å¤šä¸ªå€¼ä¹Ÿåªä¼šå–æœ€æ–°å€¼å»ç»“åˆï¼Œå…¶ä½™çš„æŠ›å¼ƒ</p>
<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><h3 id="Catch"><a href="#Catch" class="headerlink" title="Catch"></a>Catch</h3><p>ä» <code>onError</code> é€šçŸ¥ä¸­æ¢å¤å‘å°„æ•°æ®</p>
<p><code>Catch</code> æ“ä½œç¬¦æ‹¦æˆªåŸå§‹ <code>Observable</code> çš„ <code>onError</code> é€šçŸ¥ï¼Œå°†å®ƒæ›¿æ¢ä¸ºå…¶å®ƒçš„æ•°æ®é¡¹æˆ–æ•°æ®åºåˆ—ï¼Œè®©äº§ç”Ÿçš„ <code>Observable</code> èƒ½å¤Ÿæ­£å¸¸ç»ˆæ­¢æˆ–è€…æ ¹æœ¬ä¸ç»ˆæ­¢</p>
<h4 id="CatchIgnore"><a href="#CatchIgnore" class="headerlink" title="CatchIgnore"></a>CatchIgnore</h4><p><code>Catch</code> æ“ä½œç¬¦æ‹¦æˆªåŸå§‹ <code>Observable</code> çš„ <code>onError</code> é€šçŸ¥ï¼Œå°†å®ƒæ›¿æ¢ä¸º <code>Observable.Empty</code></p>
<h3 id="Retry"><a href="#Retry" class="headerlink" title="Retry"></a>Retry</h3><p>å¦‚æœåŸå§‹ <code>Observable</code> é‡åˆ°é”™è¯¯ï¼Œé‡æ–°è®¢é˜…å®ƒæœŸæœ›å®ƒèƒ½æ­£å¸¸ç»ˆæ­¢</p>
<p><code>Retry</code> æ“ä½œç¬¦ä¸ä¼šå°†åŸå§‹ <code>Observable</code> çš„ <code>onError</code> é€šçŸ¥ä¼ é€’ç»™è§‚å¯Ÿè€…ï¼Œå®ƒä¼šè®¢é˜…è¿™ä¸ª<code>Observable</code>ï¼Œå†ç»™å®ƒä¸€æ¬¡æœºä¼šæ— é”™è¯¯åœ°å®Œæˆå®ƒçš„æ•°æ®åºåˆ—</p>
<p><code>Retry</code> æ€»æ˜¯ä¼ é€’ <code>onNext</code> é€šçŸ¥ç»™è§‚å¯Ÿè€…ï¼Œç”±äºé‡æ–°è®¢é˜…ï¼Œå¯èƒ½ä¼šé€ æˆæ•°æ®é¡¹é‡å¤</p>
<h4 id="OnErrorRetry"><a href="#OnErrorRetry" class="headerlink" title="OnErrorRetry"></a>OnErrorRetry</h4><p>ä¸ <code>Retry</code> ç±»ä¼¼ï¼Œå¯è¿›è¡Œ <code>onError</code> å¤„ç†</p>
<h3 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h3><p>åŸå§‹ <code>Observable</code> æ­£å¸¸å®Œæˆæˆ–é‡åˆ°é”™è¯¯éƒ½ä¼šè°ƒèµ·é—­åŒ…æ–¹æ³•</p>
<h2 id="è¾…åŠ©æ“ä½œ"><a href="#è¾…åŠ©æ“ä½œ" class="headerlink" title="è¾…åŠ©æ“ä½œ"></a>è¾…åŠ©æ“ä½œ</h2><h3 id="Delay"><a href="#Delay" class="headerlink" title="Delay"></a>Delay</h3><p>å»¶è¿Ÿä¸€æ®µæŒ‡å®šçš„æ—¶é—´å†å‘å°„æ¥è‡ª <code>Observable</code> çš„å‘å°„ç‰©</p>
<h4 id="DelaySubscription"><a href="#DelaySubscription" class="headerlink" title="DelaySubscription"></a>DelaySubscription</h4><p>å¯ä»¥å»¶è¿Ÿè®¢é˜…åŸå§‹ <code>Observable</code></p>
<h4 id="DelayFrame"><a href="#DelayFrame" class="headerlink" title="DelayFrame"></a>DelayFrame</h4><h4 id="DelayFrameSubscription"><a href="#DelayFrameSubscription" class="headerlink" title="DelayFrameSubscription"></a>DelayFrameSubscription</h4><h3 id="Do"><a href="#Do" class="headerlink" title="Do"></a>Do</h3><h4 id="DoOnCancel"><a href="#DoOnCancel" class="headerlink" title="DoOnCancel"></a>DoOnCancel</h4><h4 id="DoOnCompleted"><a href="#DoOnCompleted" class="headerlink" title="DoOnCompleted"></a>DoOnCompleted</h4><h4 id="DoOnError"><a href="#DoOnError" class="headerlink" title="DoOnError"></a>DoOnError</h4><h4 id="DoOnSubscribe"><a href="#DoOnSubscribe" class="headerlink" title="DoOnSubscribe"></a>DoOnSubscribe</h4><h4 id="DoOnTerminate"><a href="#DoOnTerminate" class="headerlink" title="DoOnTerminate"></a>DoOnTerminate</h4><h3 id="Materialize-Dematerialize"><a href="#Materialize-Dematerialize" class="headerlink" title="Materialize/Dematerialize"></a>Materialize/Dematerialize</h3><p><code>Materialize</code> å°†æ•°æ®é¡¹å’Œäº‹ä»¶é€šçŸ¥éƒ½å½“åšæ•°æ®é¡¹å‘å°„ï¼Œ<code>Dematerialize</code> åˆšå¥½ç›¸å</p>
<p><code>Materialize</code> å°†æ¥è‡ªåŸå§‹ <code>Observable</code> çš„é€šçŸ¥è½¬æ¢ä¸º <code>Notification</code> å¯¹è±¡ï¼Œç„¶åå®ƒè¿”å›çš„ <code>Observable</code> ä¼šå‘å°„è¿™äº›æ•°æ®</p>
<h3 id="ObserveOn"><a href="#ObserveOn" class="headerlink" title="ObserveOn"></a>ObserveOn</h3><p>æŒ‡å®šä¸€ä¸ªè§‚å¯Ÿè€…åœ¨å“ªä¸ªè°ƒåº¦å™¨ä¸Šè§‚å¯Ÿè¿™ä¸ª <code>Observable</code></p>
<h4 id="ObserveOnMainThread"><a href="#ObserveOnMainThread" class="headerlink" title="ObserveOnMainThread"></a>ObserveOnMainThread</h4><h3 id="Subscribe"><a href="#Subscribe" class="headerlink" title="Subscribe"></a>Subscribe</h3><p>æ“ä½œæ¥è‡ª <code>Observable</code> çš„å‘å°„ç‰©å’Œé€šçŸ¥</p>
<h3 id="SubscribeOn"><a href="#SubscribeOn" class="headerlink" title="SubscribeOn"></a>SubscribeOn</h3><p>æŒ‡å®šObservableè‡ªèº«åœ¨å“ªä¸ªè°ƒåº¦å™¨ä¸Šæ‰§è¡Œ</p>
<h3 id="TimeInterval"><a href="#TimeInterval" class="headerlink" title="TimeInterval"></a>TimeInterval</h3><p>å°†ä¸€ä¸ªå‘å°„æ•°æ®çš„ <code>Observable</code> è½¬æ¢ä¸ºå‘å°„é‚£äº›æ•°æ®å‘å°„æ—¶é—´é—´éš”çš„ <code>Observable</code></p>
<h4 id="FrameTimeInterval"><a href="#FrameTimeInterval" class="headerlink" title="FrameTimeInterval"></a>FrameTimeInterval</h4><h3 id="Timeout"><a href="#Timeout" class="headerlink" title="Timeout"></a>Timeout</h3><p>å¯¹åŸå§‹ <code>Observable</code> çš„ä¸€ä¸ªé•œåƒï¼Œå¦‚æœè¿‡äº†ä¸€ä¸ªæŒ‡å®šçš„æ—¶é•¿ä»æ²¡æœ‰å‘å°„æ•°æ®ï¼Œå®ƒä¼šå‘ä¸€ä¸ªé”™è¯¯é€šçŸ¥</p>
<h4 id="TimeoutFrame"><a href="#TimeoutFrame" class="headerlink" title="TimeoutFrame"></a>TimeoutFrame</h4><h3 id="Timestamp"><a href="#Timestamp" class="headerlink" title="Timestamp"></a>Timestamp</h3><p>ç»™ <code>Observable</code> å‘å°„çš„æ•°æ®é¡¹é™„åŠ ä¸€ä¸ªæ—¶é—´æˆ³</p>
<h3 id="To"><a href="#To" class="headerlink" title="To"></a>To</h3><p>å°† <code>Observable</code> è½¬æ¢ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æˆ–æ•°æ®ç»“æ„</p>
<h4 id="ToArray"><a href="#ToArray" class="headerlink" title="ToArray"></a>ToArray</h4><h4 id="ToList"><a href="#ToList" class="headerlink" title="ToList"></a>ToList</h4><h4 id="ToAwaitableEnumerator"><a href="#ToAwaitableEnumerator" class="headerlink" title="ToAwaitableEnumerator"></a>ToAwaitableEnumerator</h4><p>è¿‡æ—¶çš„ï¼Œæ¨èä½¿ç”¨ <code>ToYieldInstruction</code></p>
<h4 id="ToYieldInstruction"><a href="#ToYieldInstruction" class="headerlink" title="ToYieldInstruction"></a>ToYieldInstruction</h4><p>å°† <code>Observable</code> è½¬ä¸º <code>Coroutine</code></p>
<h2 id="æ¡ä»¶å’Œå¸ƒå°”æ“ä½œ"><a href="#æ¡ä»¶å’Œå¸ƒå°”æ“ä½œ" class="headerlink" title="æ¡ä»¶å’Œå¸ƒå°”æ“ä½œ"></a>æ¡ä»¶å’Œå¸ƒå°”æ“ä½œ</h2><h3 id="Amb"><a href="#Amb" class="headerlink" title="Amb"></a>Amb</h3><p>ç»™å®šä¸¤ä¸ªæˆ–å¤šä¸ª <code>Observables</code>ï¼Œå®ƒåªå‘å°„é¦–å…ˆå‘å°„æ•°æ®æˆ–é€šçŸ¥çš„é‚£ä¸ª <code>Observable</code> çš„æ‰€æœ‰æ•°æ®</p>
<h3 id="DefaultIfEmpty"><a href="#DefaultIfEmpty" class="headerlink" title="DefaultIfEmpty"></a>DefaultIfEmpty</h3><p>å‘å°„æ¥è‡ªåŸå§‹ <code>Observable</code> çš„å€¼ï¼Œå¦‚æœåŸå§‹ <code>Observable</code> æ²¡æœ‰å‘å°„ä»»ä½•å€¼ï¼Œå°±å‘å°„ä¸€ä¸ªé»˜è®¤å€¼</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/piaoniao/2018/09/23/mac-csharp-decompile-command-line-tool/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiaoNiao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PiaoNiao's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/23/mac-csharp-decompile-command-line-tool/" class="post-title-link" itemprop="url">Mac C# åç¼–è¯‘å‘½ä»¤è¡Œå·¥å…· â€”â€” ILSpy</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-23 13:13:25" itemprop="dateCreated datePublished" datetime="2018-09-23T13:13:25+08:00">2018-09-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-09-25 13:04:22" itemprop="dateModified" datetime="2018-09-25T13:04:22+08:00">2018-09-25</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://github.com/icsharpcode/ILSpy/tree/master/ICSharpCode.Decompiler.Console">ILSpy é¡¹ç›®åœ°å€</a></p>
<h2 id="ç¯å¢ƒï¼š"><a href="#ç¯å¢ƒï¼š" class="headerlink" title="ç¯å¢ƒï¼š"></a>ç¯å¢ƒï¼š</h2><p>éœ€è¦å®‰è£… <code>.Net Core SDK</code></p>
<h2 id="å®‰è£…-ilspycmdï¼š"><a href="#å®‰è£…-ilspycmdï¼š" class="headerlink" title="å®‰è£… ilspycmdï¼š"></a>å®‰è£… <code>ilspycmd</code>ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/share/dotnet/dotnet tool install ilspycmd -g</span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤å°†ä¼šå®‰è£…åœ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/sum/.dotnet/tools/ilspycmd</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨ï¼š"><a href="#ä½¿ç”¨ï¼š" class="headerlink" title="ä½¿ç”¨ï¼š"></a>ä½¿ç”¨ï¼š</h2><p>æŸ¥çœ‹ types: c(lass), i(interface), s(truct),d(elegate), e(num)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/sum/.dotnet/tools/ilspycmd xxx.dll -l c</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹åç¼–è¯‘ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/sum/.dotnet/tools/ilspycmd xxx.dll</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è¯¦ç»†ç”¨æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/sum/.dotnet/tools/ilspycmd -h</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">PiaoNiao</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PiaoNiao</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  

  

  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  

  





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
